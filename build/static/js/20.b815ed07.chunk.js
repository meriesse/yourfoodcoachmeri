(this.webpackJsonpyourfoodcoach=this.webpackJsonpyourfoodcoach||[]).push([[20],{321:function(e,a,t){"use strict";var c=t(0),s=t(323),i=t(1);a.a=e=>{let{itemsCount:a,itemsPerPage:t,currentPage:n,setCurrentPage:l,alwaysShown:r=!0}=e;const o=Math.ceil(a/t),d=!!r||o>1,j=1===n,m=n===o,b=e=>{n!==e&&l(e)};let x;const u=[...new Array(o)].map(((e,a)=>{const t=a+1,c=1===t,l=t===o,r=Math.abs(t-n)<=2;return c||l||r?(x=!1,Object(i.jsx)(s.a.Item,{active:t===n,onClick:()=>(e=>{b(e)})(t),children:t},t)):x?null:(x=!0,Object(i.jsx)(s.a.Ellipsis,{className:"muted"},t))}));return Object(c.useEffect)((()=>{n>o&&l(o)}),[o]),Object(i.jsx)(i.Fragment,{children:d&&Object(i.jsxs)(s.a,{children:[Object(i.jsx)(s.a.Prev,{onClick:()=>{b((e=>e-1))},disabled:j}),u,Object(i.jsx)(s.a.Next,{onClick:()=>{b((e=>e+1))},disabled:m})]})})}},323:function(e,a,t){"use strict";var c=t(5),s=t.n(c),i=t(0),n=t(6),l=t(55),r=t(1);const o=i.forwardRef(((e,a)=>{let{active:t=!1,disabled:c=!1,className:i,style:n,activeLabel:o="(current)",children:d,linkStyle:j,linkClassName:m,...b}=e;const x=t||c?"span":l.a;return Object(r.jsx)("li",{ref:a,style:n,className:s()(i,"page-item",{active:t,disabled:c}),children:Object(r.jsxs)(x,{className:s()("page-link",m),style:j,...b,children:[d,t&&o&&Object(r.jsx)("span",{className:"visually-hidden",children:o})]})})}));o.displayName="PageItem";var d=o;function j(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const c=i.forwardRef(((e,c)=>{let{children:s,...i}=e;return Object(r.jsxs)(o,{...i,ref:c,children:[Object(r.jsx)("span",{"aria-hidden":"true",children:s||a}),Object(r.jsx)("span",{className:"visually-hidden",children:t})]})}));return c.displayName=e,c}const m=j("First","\xab"),b=j("Prev","\u2039","Previous"),x=j("Ellipsis","\u2026","More"),u=j("Next","\u203a"),g=j("Last","\xbb"),h=i.forwardRef(((e,a)=>{let{bsPrefix:t,className:c,size:i,...l}=e;const o=Object(n.c)(t,"pagination");return Object(r.jsx)("ul",{ref:a,...l,className:s()(c,o,i&&"".concat(o,"-").concat(i))})}));h.displayName="Pagination";a.a=Object.assign(h,{First:m,Prev:b,Ellipsis:x,Item:d,Next:u,Last:g})},335:function(e,a,t){"use strict";var c=t(5),s=t.n(c),i=t(0),n=t(6),l=t(314),r=t(81),o=t(1);const d=i.forwardRef(((e,a)=>{let{className:t,bsPrefix:c,as:i="span",...l}=e;return c=Object(n.c)(c,"input-group-text"),Object(o.jsx)(i,{ref:a,className:s()(t,c),...l})}));d.displayName="InputGroupText";var j=d;const m=i.forwardRef(((e,a)=>{let{bsPrefix:t,size:c,hasValidation:l,className:d,as:j="div",...m}=e;t=Object(n.c)(t,"input-group");const b=Object(i.useMemo)((()=>({})),[]);return Object(o.jsx)(r.a.Provider,{value:b,children:Object(o.jsx)(j,{ref:a,...m,className:s()(d,t,c&&"".concat(t,"-").concat(c),l&&"has-validation")})})}));m.displayName="InputGroup";a.a=Object.assign(m,{Text:j,Radio:e=>Object(o.jsx)(j,{children:Object(o.jsx)(l.a,{type:"radio",...e})}),Checkbox:e=>Object(o.jsx)(j,{children:Object(o.jsx)(l.a,{type:"checkbox",...e})})})},341:function(e,a,t){"use strict";var c=t(5),s=t.n(c),i=t(0),n=(t(100),t(44)),l=t(125),r=t(6),o=t(12),d=t(82),j=t(18),m=t(1);const b=i.forwardRef(((e,a)=>{let{bsPrefix:t,active:c,disabled:i,eventKey:n,className:l,variant:b,action:x,as:u,...g}=e;t=Object(r.c)(t,"list-group-item");const[h,O]=Object(d.b)({key:Object(j.b)(n,g.href),active:c,...g}),p=Object(o.a)((e=>{if(i)return e.preventDefault(),void e.stopPropagation();h.onClick(e)}));i&&void 0===g.tabIndex&&(g.tabIndex=-1,g["aria-disabled"]=!0);const f=u||(x?g.href?"a":"button":"div");return Object(m.jsx)(f,{ref:a,...g,...h,onClick:p,className:s()(l,t,O.isActive&&"active",i&&"disabled",b&&"".concat(t,"-").concat(b),x&&"".concat(t,"-action"))})}));b.displayName="ListGroupItem";var x=b;const u=i.forwardRef(((e,a)=>{const{className:t,bsPrefix:c,variant:i,horizontal:o,numbered:d,as:j="div",...b}=Object(n.a)(e,{activeKey:"onSelect"}),x=Object(r.c)(c,"list-group");let u;return o&&(u=!0===o?"horizontal":"horizontal-".concat(o)),Object(m.jsx)(l.a,{ref:a,...b,as:j,className:s()(t,x,i&&"".concat(x,"-").concat(i),u&&"".concat(x,"-").concat(u),d&&"".concat(x,"-numbered"))})}));u.displayName="ListGroup";a.a=Object.assign(u,{Item:x})},355:function(e,a,t){"use strict";var c=t(5),s=t.n(c),i=t(0),n=t(6),l=t(1);const r=i.forwardRef(((e,a)=>{let{bsPrefix:t,bg:c="primary",pill:i=!1,text:r,className:o,as:d="span",...j}=e;const m=Object(n.c)(t,"badge");return Object(l.jsx)(d,{ref:a,...j,className:s()(o,m,i&&"rounded-pill",r&&"text-".concat(r),c&&"bg-".concat(c))})}));r.displayName="Badge",a.a=r},515:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return k}));var c=t(0),s=t(309),i=t(187),n=t(310),l=t(341),r=t(79),o=t(335),d=t(325),j=t(7),m=t(14),b=t(124),x=t(29),u=t(37),g=t(355),h=t(363),O=t(19),p=t(20),f=t(1);var y=e=>{let{id:a,nomePaziente:t,cognomePaziente:c,codiceFiscalePaziente:s,dataInizio:i,dataFine:n}=e;const r=Object(j.D)(),o=new Date,d=new Date(n);return Object(f.jsx)(l.a.Item,{onClick:()=>r("/dieta/".concat(a)),className:"col-12 mx-auto",style:{padding:0,cursor:"pointer"},children:Object(f.jsx)(m.a,{className:"d-flex flex-column mx-auto my-auto ",children:Object(f.jsx)(m.a,{className:"d-flex flex-wrap text-start",style:{padding:0},children:Object(f.jsxs)(m.a,{className:"d-flex flex-row justify-content-evenly my-auto",style:{padding:0,marginTop:20},children:[Object(f.jsx)(m.a,{style:{margin:0},className:"d-flex justify-content-center col-4 col-lg-2 my-auto",children:Object(f.jsx)(h.a,{id:"ShowDietImg",style:{maxHeight:80,maxWidth:80,margin:10}})}),Object(f.jsxs)(m.a,{style:{padding:5},className:"col-8 my-auto mt-2 mt-sm-3 mt-lg-1",children:[Object(f.jsx)("div",{className:"flex-row",children:Object(f.jsx)("h5",{className:"col-12",children:Object(f.jsxs)("p",{children:["Dieta di: ",Object(f.jsxs)("strong",{style:{margin:15},children:[c," ",t]})]})})}),Object(f.jsxs)(m.a,{className:"d-flex flex-wrap text-start",style:{padding:0,marginTop:25},children:[Object(f.jsx)(m.a,{style:{padding:0},className:"col-12 col-sm-12 mb-3",children:Object(f.jsxs)("p",{style:{margin:0},children:["C.F.: ",Object(f.jsx)("strong",{children:s})]})}),Object(f.jsxs)(m.a,{className:"d-flex flex-wrap align-items-center col-12",style:{padding:0},children:[Object(f.jsx)(m.a,{style:{padding:0,margin:0},className:"col-12 col-lg-6 my-auto",children:Object(f.jsxs)("div",{style:{margin:0},children:["Data di inizio: ",Object(f.jsx)("strong",{children:i})]})}),Object(f.jsx)(m.a,{style:{padding:0},className:"col-12 col-lg-6 mb-2 mb-sm-3 mb-lg-0",children:Object(f.jsxs)(m.a,{className:"d-flex flex-wrap float-start col-12 p-0",children:["Data di fine: ",Object(f.jsx)("strong",{style:{marginLeft:4},children:n}),Object(f.jsx)(m.a,{style:{padding:0},className:"col-1",children:o>d?Object(f.jsx)("div",{className:"d-inline-block",children:Object(f.jsx)(g.a,{pill:!0,bg:"danger",style:{marginLeft:20},children:"Scaduta"})}):Object(f.jsx)(f.Fragment,{})})]})})]})]})]}),Object(f.jsx)(m.a,{className:"col-1 my-auto",style:{marginRight:10},children:Object(f.jsx)(p.a,{icon:O.b})})]})})})})},N=t(303),v=t(321),w=t(30),C=t(80),P=t(54),z=t(13);function k(){const{currentUser:e}=Object(w.b)(),[a,t]=Object(c.useState)(""),[g,h]=Object(c.useState)(""),[k,S]=Object(c.useState)(!0),D=Object(j.A)(),[L,_]=Object(c.useState)(1),[I,R]=Object(c.useState)(""),[F,T]=Object(c.useState)(!1),[B,E]=Object(c.useState)([]),A=5*L,G=A-5,H=Object(j.D)();Object(c.useEffect)((()=>{Object(P.a)();(async()=>{S(!0);const a=Object(x.i)(Object(x.b)(u.b,"diets"),Object(x.m)("email_nutrizionista","==",e.email),Object(x.h)("data_inserimento","desc"));await Object(x.f)(a).then((e=>{E(e.docs.map((e=>({...e.data(),id:e.id})))),_(1)})).catch((e=>t("Si \xe8 verificato un errore inaspettato"))).finally((()=>S(!1)))})(),"success-delete"===D.state?h("Dieta eliminata con successo"):"success-create"===D.state&&h("Dieta creata con successo")}),[]);const M=new Date,J=B.filter((e=>""===I.toLowerCase()?e:e.nome_paziente.toLowerCase().includes(I.toLowerCase())||e.cognome_paziente.toLowerCase().includes(I.toLowerCase())||e.codice_fiscale_paziente.toLowerCase().includes(I.toLowerCase()))).filter((e=>{const a=new Date(e.data_fine_dieta);return F?M>a:e}));return!0===k?Object(f.jsx)(C.a,{}):Object(f.jsx)(f.Fragment,{children:!1===k&&Object(f.jsx)(m.a,{className:"modal-fullscreen",style:{background:"linear-gradient(123deg, rgba(247,209,98,1) 30%, rgba(251,149,96,1) 50%, rgba(254,88,94,1) 70%)",backgroundSize:"cover",minHeight:"inherit",padding:0},children:Object(f.jsx)(m.a,{className:"modal-fullscreen text-center",children:Object(f.jsx)(m.a,{className:"d-flex flex-column mx-auto my-auto",style:{minHeight:450,marginTop:20},children:Object(f.jsxs)(s.a,{className:"col-12 col-md-11 mx-auto",style:{marginTop:20,marginBottom:20,borderRadius:16,boxShadow:"10px 10px 10px rgba(30,30,30,0.5)",borderLeft:"solid 1px rgba(255,255,255,0.8)",borderTop:"solid 1px rgba(255,255,255,0.8)"},children:[Object(f.jsxs)("h2",{style:{fontFamily:"Arial",marginTop:10},children:[Object(f.jsx)("div",{className:"d-flex my-auto col-12",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsx)("div",{className:"float-start",style:{marginTop:10,marginLeft:20},children:Object(f.jsx)(z.LinkContainer,{to:"/dashboard",className:"my-auto",children:Object(f.jsx)(i.a,{style:{height:40,width:100},variant:"warning",children:Object(f.jsx)(p.a,{icon:O.a,color:"black"})})})})})}),Object(f.jsxs)(m.a,{className:"d-flex justify-content-center my-auto align-items-center col-12",style:{padding:0},children:[Object(f.jsx)("img",{src:b.a,id:"ShowDietsImg",style:{height:70,width:70,marginRight:10},alt:"Diete pazienti"}),Object(f.jsx)("p",{className:"my-auto",children:"Diete Create"})]})]}),a&&!B&&Object(f.jsx)(n.a,{variant:"danger",children:a}),g&&Object(f.jsx)(n.a,{style:{margin:20},variant:"primary",onClose:()=>h(!1),dismissible:!0,children:g}),Object(f.jsx)(N.a,{color:"#eb6164",loading:k,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1}}),Object(f.jsx)(m.a,{style:{minHeight:500},children:Object(f.jsxs)(l.a,{className:"col-12 col-md-11 mx-auto",style:{marginBottom:20},children:[Object(f.jsx)(r.a,{expand:"lg",className:"justify-content-evenly",style:{marginBottom:10},children:Object(f.jsxs)(m.a,{className:"d-flex col-12 gap-3",children:[Object(f.jsx)(m.a,{className:"col-12 col-lg-6",style:{margin:0,padding:0},children:Object(f.jsx)(o.a,{className:"d-flex",children:Object(f.jsx)(d.a.Control,{type:"search",placeholder:"Cerca...",className:"me-2","aria-label":"Search",value:I,onChange:e=>{_(1),R(e.target.value)}})})}),Object(f.jsx)(d.a,{className:"d-flex flex-wrap col-5 col-sm-5 col-lg-3",style:{marginRight:15},children:Object(f.jsx)(d.a.Check,{type:"switch",id:"custom-switch",label:"Diete Scadute",checked:F,onChange:()=>{T(!F),_(1)},className:"mx-auto"})}),Object(f.jsx)(m.a,{className:"col-5 col-sm-6 col-lg-2 d-flex my-auto flex-wrap",style:{marginBottom:10,padding:0},children:Object(f.jsxs)(i.a,{variant:"outline-danger",className:"flex-wrap mx-auto",onClick:()=>H("/nuova-dieta",{replace:!0}),children:[Object(f.jsx)(p.a,{icon:O.q,style:{marginRight:5}}),"Crea Dieta"]})})]})}),J.slice(G,A).map((e=>Object(f.jsx)(y,{id:e.id,nomePaziente:e.nome_paziente,cognomePaziente:e.cognome_paziente,codiceFiscalePaziente:e.codice_fiscale_paziente,dataInizio:e.data_inizio_dieta,dataFine:e.data_fine_dieta},e.id))),0!==B.length||a?Object(f.jsx)(f.Fragment,{}):Object(f.jsx)(n.a,{variant:"warning",style:{margin:30},children:"Non hai inserito ancora nessuna dieta"}),0===J.length&&!a&&B.length>0?Object(f.jsx)(n.a,{variant:"warning",style:{margin:30},children:"Nessuna dieta soddisfa i parametri di ricerca"}):Object(f.jsx)(f.Fragment,{})]})}),Object(f.jsx)(m.a,{className:"d-flex flex-wrap justify-content-center mt-auto",children:0!==B.length&&Object(f.jsx)(v.a,{itemsCount:J.length,itemsPerPage:5,currentPage:L,setCurrentPage:_,alwaysShown:!0})})]})})})})})}}}]);
//# sourceMappingURL=20.b815ed07.chunk.js.map
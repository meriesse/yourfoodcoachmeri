(this.webpackJsonpyourfoodcoach=this.webpackJsonpyourfoodcoach||[]).push([[21],{321:function(e,t,a){"use strict";var c=a(0),s=a(323),n=a(1);t.a=e=>{let{itemsCount:t,itemsPerPage:a,currentPage:i,setCurrentPage:l,alwaysShown:r=!0}=e;const o=Math.ceil(t/a),d=!!r||o>1,j=1===i,m=i===o,b=e=>{i!==e&&l(e)};let x;const u=[...new Array(o)].map(((e,t)=>{const a=t+1,c=1===a,l=a===o,r=Math.abs(a-i)<=2;return c||l||r?(x=!1,Object(n.jsx)(s.a.Item,{active:a===i,onClick:()=>(e=>{b(e)})(a),children:a},a)):x?null:(x=!0,Object(n.jsx)(s.a.Ellipsis,{className:"muted"},a))}));return Object(c.useEffect)((()=>{i>o&&l(o)}),[o]),Object(n.jsx)(n.Fragment,{children:d&&Object(n.jsxs)(s.a,{children:[Object(n.jsx)(s.a.Prev,{onClick:()=>{b((e=>e-1))},disabled:j}),u,Object(n.jsx)(s.a.Next,{onClick:()=>{b((e=>e+1))},disabled:m})]})})}},323:function(e,t,a){"use strict";var c=a(5),s=a.n(c),n=a(0),i=a(6),l=a(55),r=a(1);const o=n.forwardRef(((e,t)=>{let{active:a=!1,disabled:c=!1,className:n,style:i,activeLabel:o="(current)",children:d,linkStyle:j,linkClassName:m,...b}=e;const x=a||c?"span":l.a;return Object(r.jsx)("li",{ref:t,style:i,className:s()(n,"page-item",{active:a,disabled:c}),children:Object(r.jsxs)(x,{className:s()("page-link",m),style:j,...b,children:[d,a&&o&&Object(r.jsx)("span",{className:"visually-hidden",children:o})]})})}));o.displayName="PageItem";var d=o;function j(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const c=n.forwardRef(((e,c)=>{let{children:s,...n}=e;return Object(r.jsxs)(o,{...n,ref:c,children:[Object(r.jsx)("span",{"aria-hidden":"true",children:s||t}),Object(r.jsx)("span",{className:"visually-hidden",children:a})]})}));return c.displayName=e,c}const m=j("First","\xab"),b=j("Prev","\u2039","Previous"),x=j("Ellipsis","\u2026","More"),u=j("Next","\u203a"),h=j("Last","\xbb"),g=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:c,size:n,...l}=e;const o=Object(i.c)(a,"pagination");return Object(r.jsx)("ul",{ref:t,...l,className:s()(c,o,n&&"".concat(o,"-").concat(n))})}));g.displayName="Pagination";t.a=Object.assign(g,{First:m,Prev:b,Ellipsis:x,Item:d,Next:u,Last:h})},335:function(e,t,a){"use strict";var c=a(5),s=a.n(c),n=a(0),i=a(6),l=a(314),r=a(81),o=a(1);const d=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:c,as:n="span",...l}=e;return c=Object(i.c)(c,"input-group-text"),Object(o.jsx)(n,{ref:t,className:s()(a,c),...l})}));d.displayName="InputGroupText";var j=d;const m=n.forwardRef(((e,t)=>{let{bsPrefix:a,size:c,hasValidation:l,className:d,as:j="div",...m}=e;a=Object(i.c)(a,"input-group");const b=Object(n.useMemo)((()=>({})),[]);return Object(o.jsx)(r.a.Provider,{value:b,children:Object(o.jsx)(j,{ref:t,...m,className:s()(d,a,c&&"".concat(a,"-").concat(c),l&&"has-validation")})})}));m.displayName="InputGroup";t.a=Object.assign(m,{Text:j,Radio:e=>Object(o.jsx)(j,{children:Object(o.jsx)(l.a,{type:"radio",...e})}),Checkbox:e=>Object(o.jsx)(j,{children:Object(o.jsx)(l.a,{type:"checkbox",...e})})})},341:function(e,t,a){"use strict";var c=a(5),s=a.n(c),n=a(0),i=(a(100),a(44)),l=a(125),r=a(6),o=a(12),d=a(82),j=a(18),m=a(1);const b=n.forwardRef(((e,t)=>{let{bsPrefix:a,active:c,disabled:n,eventKey:i,className:l,variant:b,action:x,as:u,...h}=e;a=Object(r.c)(a,"list-group-item");const[g,O]=Object(d.b)({key:Object(j.b)(i,h.href),active:c,...h}),p=Object(o.a)((e=>{if(n)return e.preventDefault(),void e.stopPropagation();g.onClick(e)}));n&&void 0===h.tabIndex&&(h.tabIndex=-1,h["aria-disabled"]=!0);const f=u||(x?h.href?"a":"button":"div");return Object(m.jsx)(f,{ref:t,...h,...g,onClick:p,className:s()(l,a,O.isActive&&"active",n&&"disabled",b&&"".concat(a,"-").concat(b),x&&"".concat(a,"-action"))})}));b.displayName="ListGroupItem";var x=b;const u=n.forwardRef(((e,t)=>{const{className:a,bsPrefix:c,variant:n,horizontal:o,numbered:d,as:j="div",...b}=Object(i.a)(e,{activeKey:"onSelect"}),x=Object(r.c)(c,"list-group");let u;return o&&(u=!0===o?"horizontal":"horizontal-".concat(o)),Object(m.jsx)(l.a,{ref:t,...b,as:j,className:s()(a,x,n&&"".concat(x,"-").concat(n),u&&"".concat(x,"-").concat(u),d&&"".concat(x,"-numbered"))})}));u.displayName="ListGroup";t.a=Object.assign(u,{Item:x})},342:function(e,t,a){"use strict";t.a=a.p+"static/media/AllFeedbackImg.ad57cd87.svg"},517:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var c=a(0),s=a(309),n=a(187),i=a(310),l=a(341),r=a(79),o=a(325),d=a(335),j=a(14),m=a(342),b=a(29),x=a(37),u=a(303),h=a(321),g=a(363),O=a(19),p=a(20),f=a(7),y=a(1);var N=e=>{let{id:t,nomePaziente:a,cognomePaziente:c,codiceFiscalePaziente:s}=e;const n=Object(f.D)();return Object(y.jsx)(l.a.Item,{onClick:()=>n("/feedback-paziente/".concat(t)),className:"col-12 mx-auto",style:{padding:0,cursor:"pointer"},children:Object(y.jsx)(j.a,{className:"d-flex flex-column mx-auto my-auto ",children:Object(y.jsx)(j.a,{className:"d-flex flex-wrap text-start",style:{padding:0},children:Object(y.jsxs)(j.a,{className:"d-flex flex-row justify-content-evenly my-auto",style:{padding:0,marginTop:20},children:[Object(y.jsx)(j.a,{style:{margin:0},className:"d-flex justify-content-center col-4 col-lg-2 my-auto text-center",children:Object(y.jsx)(g.a,{id:"ShowDietImg",style:{maxHeight:80,maxWidth:80,margin:10}})}),Object(y.jsxs)(j.a,{style:{padding:5},className:"col-8 my-auto mt-2 mt-sm-3 mt-lg-1",children:[Object(y.jsx)("div",{className:"flex-row",children:Object(y.jsx)("h5",{className:"col-12",children:Object(y.jsxs)("p",{children:["Dieta: ",Object(y.jsxs)("strong",{style:{margin:15},children:[c," ",a]})]})})}),Object(y.jsx)(j.a,{className:"d-flex flex-wrap text-start",style:{padding:0,marginTop:25},children:Object(y.jsx)(j.a,{style:{padding:0},className:"col-12 col-sm-12 mb-2 mb-sm-3 mb-lg-0",children:Object(y.jsxs)("p",{style:{margin:0},children:["C.F.: ",Object(y.jsx)("strong",{children:s})]})})})]}),Object(y.jsx)(j.a,{className:"col-1 my-auto",style:{marginRight:10},children:Object(y.jsx)(p.a,{icon:O.b})})]})})})})},v=a(30),w=a(80),C=a(54),P=a(13);function k(){const{currentUser:e}=Object(v.b)(),[t,a]=Object(c.useState)(""),[g,f]=Object(c.useState)(""),[k,z]=Object(c.useState)(!0),[S,L]=Object(c.useState)(1),[I,F]=Object(c.useState)(""),[R,_]=Object(c.useState)(!1),[T,D]=Object(c.useState)([]),E=5*S,A=E-5;Object(c.useEffect)((()=>{Object(C.a)();(async()=>{z(!0),await Object(b.f)(Object(b.i)(Object(b.b)(x.b,"diets"),Object(b.m)("email_nutrizionista","==",e.email),Object(b.h)("data_inserimento","desc"))).then((e=>{D(e.docs.map((e=>({...e.data(),id:e.id})))),L(1)})).catch((e=>a("Si \xe8 verificato un errore inaspettato"))).finally((()=>z(!1)))})()}),[]);const G=new Date,H=T.filter((e=>""===I.toLowerCase()?e:e.nome_paziente.toLowerCase().includes(I.toLowerCase())||e.cognome_paziente.toLowerCase().includes(I.toLowerCase())||e.codice_fiscale_paziente.toLowerCase().includes(I.toLowerCase()))).filter((e=>{const t=new Date(e.data_fine_dieta);return R?G>t:e}));return!0===k?Object(y.jsx)(w.a,{}):Object(y.jsx)(y.Fragment,{children:!1===k&&Object(y.jsx)(j.a,{className:"modal-fullscreen",style:{background:"linear-gradient(123deg, rgba(247,209,98,1) 30%, rgba(251,149,96,1) 50%, rgba(254,88,94,1) 70%)",backgroundSize:"cover",minHeight:"inherit",padding:0},children:Object(y.jsx)(j.a,{className:"modal-fullscreen text-center",children:Object(y.jsx)(j.a,{className:"d-flex flex-column mx-auto my-auto",style:{minHeight:450,marginTop:20},children:Object(y.jsxs)(s.a,{className:"col-12 col-md-9 mx-auto",style:{marginTop:20,marginBottom:20,borderRadius:16,boxShadow:"10px 10px 10px rgba(30,30,30,0.5)",borderLeft:"solid 1px rgba(255,255,255,0.8)",borderTop:"solid 1px rgba(255,255,255,0.8)"},children:[Object(y.jsxs)("h2",{style:{fontFamily:"Arial",marginTop:10},children:[Object(y.jsx)("div",{className:"d-flex my-auto col-12",children:Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)("div",{className:"float-start",style:{marginTop:10,marginLeft:20},children:Object(y.jsx)(P.LinkContainer,{to:"/dashboard",className:"my-auto",children:Object(y.jsx)(n.a,{style:{height:40,width:100},variant:"warning",children:Object(y.jsx)(p.a,{icon:O.a,color:"black"})})})})})}),Object(y.jsxs)(j.a,{className:"d-flex justify-content-center my-auto align-items-center col-12",style:{padding:0},children:[Object(y.jsx)("img",{src:m.a,id:"ShowDietsImg",style:{height:70,width:70,marginRight:10},alt:"Feedback pazienti"}),Object(y.jsx)("p",{className:"my-auto",children:"Feedback"})]})]}),t&&!T&&Object(y.jsx)(i.a,{variant:"danger",children:t}),g&&Object(y.jsx)(i.a,{style:{margin:20},variant:"primary",onClose:()=>f(!1),dismissible:!0,children:g}),Object(y.jsx)(u.a,{color:"#eb6164",loading:k,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1}}),Object(y.jsx)(j.a,{style:{minHeight:500},children:Object(y.jsxs)(l.a,{className:"col-12 col-md-11 mx-auto",style:{marginBottom:20},children:[Object(y.jsxs)(r.a,{expand:"lg",className:"justify-content-end gap-2",style:{marginBottom:10},children:[Object(y.jsx)(o.a,{className:"col-7 col-lg-5 col-xl-4 d-inline-block flex-wrap mx-auto",style:{marginRight:15},children:Object(y.jsx)(o.a.Check,{type:"switch",id:"custom-switch",label:"Diete scadute",checked:R,onChange:()=>{_(!R),L(1)}})}),Object(y.jsx)(j.a,{className:"col-12 col-sm-12 col-lg-5",style:{margin:0,padding:0},children:Object(y.jsx)(d.a,{className:"d-flex ",children:Object(y.jsx)(o.a.Control,{type:"search",placeholder:"Cerca...",className:"me-2","aria-label":"Search",value:I,onChange:e=>{L(1),F(e.target.value)}})})})]}),H.slice(A,E).map((e=>Object(y.jsx)(N,{id:e.id,nomePaziente:e.nome_paziente,cognomePaziente:e.cognome_paziente,codiceFiscalePaziente:e.codice_fiscale_paziente},e.id))),0!==T.length||t?Object(y.jsx)(y.Fragment,{}):Object(y.jsx)(i.a,{variant:"warning",style:{margin:30},children:"Non hai inserito ancora nessuna dieta"}),0===H.length&&!t&&T.length>0?Object(y.jsx)(i.a,{variant:"warning",style:{margin:30},children:"Non ci sono al momento diete scadute"}):Object(y.jsx)(y.Fragment,{})]})}),Object(y.jsx)(j.a,{className:"d-flex flex-wrap justify-content-center mt-auto",children:0!==T.length&&Object(y.jsx)(h.a,{itemsCount:H.length,itemsPerPage:5,currentPage:S,setCurrentPage:L,alwaysShown:!0})})]})})})})})}}}]);
//# sourceMappingURL=21.edb10e01.chunk.js.map
(this.webpackJsonpyourfoodcoach=this.webpackJsonpyourfoodcoach||[]).push([[33],{506:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var c=a(0),s=a(309),n=a(187),i=a(310),l=a(341),o=a(79),r=a(325),d=a(335),j=a(14),m=a(185),b=a(29),g=a(37),h=a(303),x=a(321),u=a(405),O=a(30),p=a(80),f=a(54),y=a(13),w=a(20),N=a(19),C=a(1);function v(){const{currentUser:e}=Object(O.b)(),[t,a]=Object(c.useState)(""),[v,S]=Object(c.useState)(""),[z,_]=Object(c.useState)(!0),[L,k]=Object(c.useState)(1),[P,F]=Object(c.useState)(""),[T,D]=Object(c.useState)(!1),[H,B]=Object(c.useState)([]),R=5*L,I=R-5;Object(c.useEffect)((()=>{Object(f.a)();(async()=>{_(!0),await Object(b.f)(Object(b.i)(Object(b.b)(g.b,"diets"),Object(b.m)("email_nutrizionista","==",e.email),Object(b.h)("data_inserimento","desc"))).then((e=>{B(e.docs.map((e=>({...e.data(),id:e.id})))),k(1)})).catch((e=>a("Si \xe8 verificato un errore inaspettato"))).finally((()=>_(!1)))})()}),[]);const J=new Date,A=H.filter((e=>""===P.toLowerCase()?e:e.nome_paziente.toLowerCase().includes(P.toLowerCase())||e.cognome_paziente.toLowerCase().includes(P.toLowerCase())||e.codice_fiscale_paziente.toLowerCase().includes(P.toLowerCase()))).filter((e=>{const t=new Date(e.data_fine_dieta);return T?J>t:e}));return!0===z?Object(C.jsx)(p.a,{}):Object(C.jsx)(C.Fragment,{children:!1===z&&Object(C.jsx)(j.a,{className:"modal-fullscreen",style:{background:"linear-gradient(123deg, rgba(247,209,98,1) 30%, rgba(251,149,96,1) 50%, rgba(254,88,94,1) 70%)",backgroundSize:"cover",minHeight:"inherit",padding:0},children:Object(C.jsx)(j.a,{className:"modal-fullscreen text-center",children:Object(C.jsx)(j.a,{className:"d-flex flex-column mx-auto my-auto",style:{minHeight:450,marginTop:20},children:Object(C.jsxs)(s.a,{className:"col-12 col-md-9 mx-auto",style:{marginTop:20,marginBottom:20,borderRadius:16,boxShadow:"10px 10px 10px rgba(30,30,30,0.5)",borderLeft:"solid 1px rgba(255,255,255,0.8)",borderTop:"solid 1px rgba(255,255,255,0.8)"},children:[Object(C.jsxs)("h2",{style:{fontFamily:"Arial",marginTop:10},children:[Object(C.jsx)("div",{className:"d-flex my-auto col-12",children:Object(C.jsx)("div",{className:"col-12",children:Object(C.jsx)("div",{className:"float-start",style:{marginTop:10,marginLeft:20},children:Object(C.jsx)(y.LinkContainer,{to:"/dashboard",className:"my-auto",children:Object(C.jsx)(n.a,{style:{height:40,width:100},variant:"warning",children:Object(C.jsx)(w.a,{icon:N.a,color:"black"})})})})})}),Object(C.jsxs)(j.a,{className:"d-flex justify-content-center my-auto align-items-center col-12",style:{padding:0},children:[Object(C.jsx)("img",{src:m.a,id:"ShowDietsImg",style:{height:70,width:70,marginRight:10},alt:"Progressi"}),Object(C.jsx)("p",{className:"my-auto",children:"Progressi"})]})]}),t&&!H&&Object(C.jsx)(i.a,{variant:"danger",children:t}),v&&Object(C.jsx)(i.a,{style:{margin:20},variant:"primary",onClose:()=>S(!1),dismissible:!0,children:v}),Object(C.jsx)(h.a,{color:"#eb6164",loading:z,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1}}),Object(C.jsx)(j.a,{style:{minHeight:500},children:Object(C.jsxs)(l.a,{className:"col-12 col-md-11 mx-auto",style:{marginBottom:20,minHeight:500},children:[Object(C.jsxs)(o.a,{expand:"lg",className:"justify-content-end gap-2",style:{marginBottom:10},children:[Object(C.jsx)(r.a,{className:"col-7 col-lg-5 col-xl-4 d-inline-block flex-wrap mx-auto",style:{marginRight:15},children:Object(C.jsx)(r.a.Check,{type:"switch",id:"custom-switch",label:"Diete scadute",checked:T,onChange:()=>{D(!T),k(1)}})}),Object(C.jsx)(j.a,{className:"col-12 col-sm-12 col-lg-5",style:{margin:0,padding:0},children:Object(C.jsx)(d.a,{className:"d-flex ",children:Object(C.jsx)(r.a.Control,{type:"search",placeholder:"Cerca...",className:"me-2","aria-label":"Search",value:P,onChange:e=>{k(1),F(e.target.value)}})})})]}),A.slice(I,R).map((e=>Object(C.jsx)(u.a,{id:e.id,nomePaziente:e.nome_paziente,cognomePaziente:e.cognome_paziente,codiceFiscalePaziente:e.codice_fiscale_paziente},e.id))),0!==H.length||t?Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(i.a,{variant:"warning",style:{margin:30},children:"Non hai inserito ancora nessuna dieta"}),0===A.length&&!t&&H.length>0?Object(C.jsx)(i.a,{variant:"warning",style:{margin:30},children:"Non ci sono al momento diete scadute"}):Object(C.jsx)(C.Fragment,{})]})}),Object(C.jsx)(j.a,{className:"d-flex flex-wrap justify-content-center mt-auto",children:0!==H.length&&Object(C.jsx)(x.a,{itemsCount:A.length,itemsPerPage:5,currentPage:L,setCurrentPage:k,alwaysShown:!0})})]})})})})})}}}]);
//# sourceMappingURL=33.a6844fc4.chunk.js.map
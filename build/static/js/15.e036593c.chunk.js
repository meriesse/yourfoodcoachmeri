(this.webpackJsonpyourfoodcoach=this.webpackJsonpyourfoodcoach||[]).push([[15],{312:function(e,a,t){"use strict";var c=t(0);const l=c.createContext({});a.a=l},313:function(e,a,t){"use strict";var c=t(0),l=t(312),s=t(1);const o=c.forwardRef(((e,a)=>{let{controlId:t,as:o="div",...r}=e;const n=Object(c.useMemo)((()=>({controlId:t})),[t]);return Object(s.jsx)(l.a.Provider,{value:n,children:Object(s.jsx)(o,{...r,ref:a})})}));o.displayName="FormGroup",a.a=o},314:function(e,a,t){"use strict";var c=t(5),l=t.n(c),s=t(0),o=t(312),r=t(6),n=t(1);const i=s.forwardRef(((e,a)=>{let{id:t,bsPrefix:c,className:i,type:d="checkbox",isValid:j=!1,isInvalid:u=!1,as:b="input",...m}=e;const{controlId:f}=Object(s.useContext)(o.a);return c=Object(r.c)(c,"form-check-input"),Object(n.jsx)(b,{...m,ref:a,type:d,id:t||f,className:l()(i,c,j&&"is-valid",u&&"is-invalid")})}));i.displayName="FormCheckInput",a.a=i},315:function(e,a,t){"use strict";var c=t(5),l=t.n(c),s=t(0),o=t(6),r=t(1);const n=s.forwardRef(((e,a)=>{const[{className:t,...c},{as:s="div",bsPrefix:n,spans:i}]=function(e){let{as:a,bsPrefix:t,className:c,...s}=e;t=Object(o.c)(t,"col");const r=Object(o.a)(),n=Object(o.b)(),i=[],d=[];return r.forEach((e=>{const a=s[e];let c,l,o;delete s[e],"object"===typeof a&&null!=a?({span:c,offset:l,order:o}=a):c=a;const r=e!==n?"-".concat(e):"";c&&i.push(!0===c?"".concat(t).concat(r):"".concat(t).concat(r,"-").concat(c)),null!=o&&d.push("order".concat(r,"-").concat(o)),null!=l&&d.push("offset".concat(r,"-").concat(l))})),[{...s,className:l()(c,...i,...d)},{as:a,bsPrefix:t,spans:i}]}(e);return Object(r.jsx)(s,{...c,ref:a,className:l()(t,!i.length&&n)})}));n.displayName="Col",a.a=n},316:function(e,a,t){"use strict";var c=t(5),l=t.n(c),s=t(0),o=t(313),r=t(6),n=t(1);const i=s.forwardRef(((e,a)=>{let{bsPrefix:t,className:c,children:s,controlId:i,label:d,...j}=e;return t=Object(r.c)(t,"form-floating"),Object(n.jsxs)(o.a,{ref:a,className:l()(c,t),controlId:i,...j,children:[s,Object(n.jsx)("label",{htmlFor:i,children:d})]})}));i.displayName="FloatingLabel",a.a=i},324:function(e,a,t){"use strict";t.d(a,"a",(function(){return s})),t.d(a,"c",(function(){return o})),t.d(a,"d",(function(){return r})),t.d(a,"b",(function(){return n})),t.d(a,"e",(function(){return i}));var c=t(29),l=t(37);async function s(e,a){e.data_inserimento=Object(c.j)(),e.email_nutrizionista=a.email,e.numero_telefono_nutrizionista=a.telefono,e.tipologia_dieta=a.ruolo,await Object(c.k)(Object(c.d)(Object(c.b)(l.b,"diets")),e)}async function o(e,a){e.data_inserimento=Object(c.j)(),await Object(c.l)(Object(c.d)(l.b,"diets",a),e)}async function r(e,a){await Object(c.l)(Object(c.d)(l.b,"diets",a),e)}async function n(e){await Object(c.c)(Object(c.d)(l.b,"diets",e))}const i=e=>{const a=/,/gi;return Array.isArray(e)?e.join(",").replace(a," and "):e.split(" ").join("%20")}},325:function(e,a,t){"use strict";var c=t(5),l=t.n(c),s=t(8),o=t.n(s),r=t(0),n=t(1);const i={type:o.a.string,tooltip:o.a.bool,as:o.a.elementType},d=r.forwardRef(((e,a)=>{let{as:t="div",className:c,type:s="valid",tooltip:o=!1,...r}=e;return Object(n.jsx)(t,{...r,ref:a,className:l()(c,"".concat(s,"-").concat(o?"tooltip":"feedback"))})}));d.displayName="Feedback",d.propTypes=i;var j=d,u=t(314),b=t(312),m=t(6);const f=r.forwardRef(((e,a)=>{let{bsPrefix:t,className:c,htmlFor:s,...o}=e;const{controlId:i}=Object(r.useContext)(b.a);return t=Object(m.c)(t,"form-check-label"),Object(n.jsx)("label",{...o,ref:a,htmlFor:s||i,className:l()(c,t)})}));f.displayName="FormCheckLabel";var p=f;const O=r.forwardRef(((e,a)=>{let{id:t,bsPrefix:c,bsSwitchPrefix:s,inline:o=!1,reverse:i=!1,disabled:d=!1,isValid:f=!1,isInvalid:O=!1,feedbackTooltip:x=!1,feedback:h,feedbackType:y,className:g,style:v,title:N="",type:w="checkbox",label:C,children:I,as:R="input",..._}=e;c=Object(m.c)(c,"form-check"),s=Object(m.c)(s,"form-switch");const{controlId:k}=Object(r.useContext)(b.a),P=Object(r.useMemo)((()=>({controlId:t||k})),[k,t]),F=!I&&null!=C&&!1!==C||function(e,a){return r.Children.toArray(e).some((e=>r.isValidElement(e)&&e.type===a))}(I,p),V=Object(n.jsx)(u.a,{..._,type:"switch"===w?"checkbox":w,ref:a,isValid:f,isInvalid:O,disabled:d,as:R});return Object(n.jsx)(b.a.Provider,{value:P,children:Object(n.jsx)("div",{style:v,className:l()(g,F&&c,o&&"".concat(c,"-inline"),i&&"".concat(c,"-reverse"),"switch"===w&&s),children:I||Object(n.jsxs)(n.Fragment,{children:[V,F&&Object(n.jsx)(p,{title:N,children:C}),h&&Object(n.jsx)(j,{type:y,tooltip:x,children:h})]})})})}));O.displayName="FormCheck";var x=Object.assign(O,{Input:u.a,Label:p});t(100);const h=r.forwardRef(((e,a)=>{let{bsPrefix:t,type:c,size:s,htmlSize:o,id:i,className:d,isValid:j=!1,isInvalid:u=!1,plaintext:f,readOnly:p,as:O="input",...x}=e;const{controlId:h}=Object(r.useContext)(b.a);return t=Object(m.c)(t,"form-control"),Object(n.jsx)(O,{...x,type:c,size:o,ref:a,readOnly:p,id:i||h,className:l()(d,f?"".concat(t,"-plaintext"):t,s&&"".concat(t,"-").concat(s),"color"===c&&"".concat(t,"-color"),j&&"is-valid",u&&"is-invalid")})}));h.displayName="FormControl";var y=Object.assign(h,{Feedback:j});const g=r.forwardRef(((e,a)=>{let{className:t,bsPrefix:c,as:s="div",...o}=e;return c=Object(m.c)(c,"form-floating"),Object(n.jsx)(s,{ref:a,className:l()(t,c),...o})}));g.displayName="FormFloating";var v=g,N=t(313),w=t(315);const C=r.forwardRef(((e,a)=>{let{as:t="label",bsPrefix:c,column:s=!1,visuallyHidden:o=!1,className:i,htmlFor:d,...j}=e;const{controlId:u}=Object(r.useContext)(b.a);c=Object(m.c)(c,"form-label");let f="col-form-label";"string"===typeof s&&(f="".concat(f," ").concat(f,"-").concat(s));const p=l()(i,c,o&&"visually-hidden",s&&f);return d=d||u,s?Object(n.jsx)(w.a,{ref:a,as:"label",className:p,htmlFor:d,...j}):Object(n.jsx)(t,{ref:a,className:p,htmlFor:d,...j})}));C.displayName="FormLabel";var I=C;const R=r.forwardRef(((e,a)=>{let{bsPrefix:t,className:c,id:s,...o}=e;const{controlId:i}=Object(r.useContext)(b.a);return t=Object(m.c)(t,"form-range"),Object(n.jsx)("input",{...o,type:"range",ref:a,className:l()(c,t),id:s||i})}));R.displayName="FormRange";var _=R;const k=r.forwardRef(((e,a)=>{let{bsPrefix:t,size:c,htmlSize:s,className:o,isValid:i=!1,isInvalid:d=!1,id:j,...u}=e;const{controlId:f}=Object(r.useContext)(b.a);return t=Object(m.c)(t,"form-select"),Object(n.jsx)("select",{...u,size:s,ref:a,className:l()(o,t,c&&"".concat(t,"-").concat(c),i&&"is-valid",d&&"is-invalid"),id:j||f})}));k.displayName="FormSelect";var P=k;const F=r.forwardRef(((e,a)=>{let{bsPrefix:t,className:c,as:s="small",muted:o,...r}=e;return t=Object(m.c)(t,"form-text"),Object(n.jsx)(s,{...r,ref:a,className:l()(c,t,o&&"text-muted")})}));F.displayName="FormText";var V=F;const z=r.forwardRef(((e,a)=>Object(n.jsx)(x,{...e,ref:a,type:"switch"})));z.displayName="Switch";var L=Object.assign(z,{Input:x.Input,Label:x.Label}),S=t(316);const B={_ref:o.a.any,validated:o.a.bool,as:o.a.elementType},G=r.forwardRef(((e,a)=>{let{className:t,validated:c,as:s="form",...o}=e;return Object(n.jsx)(s,{...o,ref:a,className:l()(t,c&&"was-validated")})}));G.displayName="Form",G.propTypes=B;a.a=Object.assign(G,{Group:N.a,Control:y,Floating:v,Check:x,Switch:L,Label:I,Text:V,Range:_,Select:P,FloatingLabel:S.a})},501:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return N}));var c=t(0),l=t(309),s=t(187),o=t(310),r=t(325),n=t(316),i=t(7),d=t(28),j=t(30),u=t(14),b=t(84),m=t(303),f=t(29),p=t(37),O=t(324),x=t(54),h=t(13),y=t(20),g=t(19),v=t(1);function N(){const{currentUser:e}=Object(j.b)(),[a,t]=Object(c.useState)({}),N=Object(c.useRef)(),w=Object(c.useRef)(),C=Object(c.useRef)(),I=Object(c.useRef)(),R=Object(c.useRef)(),_=Object(c.useRef)(),k=Object(c.useRef)(),P=Object(c.useRef)(),F=Object(c.useRef)(),V=Object(c.useRef)(),z=Object(c.useRef)(),L=Object(c.useRef)(),S=Object(c.useRef)(),B=Object(c.useRef)(),[G,T]=Object(c.useState)(""),[A,E]=Object(c.useState)(""),[D,H]=Object(c.useState)(!1),[J,M]=Object(c.useState)(!1),U=Object(i.D)();return Object(c.useEffect)((()=>{Object(x.a)(),Object(b.a)(e.uid).then((e=>{const a={nome:e.nome,cognome:e.cognome,sesso:e.sesso,data_nasc:e.data_nasc,luogo_nasc:e.luogo_nasc,prov_nasc:e.prov_nasc,cf:e.cf,luogo_resid:e.luogo_resid,prov_resid:e.prov_resid,via_resid:e.via_resid,telefono:e.telefono,email:e.email};t(a)})).catch((e=>{console.error(e)}))}),[e.uid]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(u.a,{className:"modal-fullscreen",style:{background:"linear-gradient(123deg, rgba(247,209,98,1) 30%, rgba(251,149,96,1) 50%, rgba(254,88,94,1) 70%)",backgroundSize:"cover",minHeight:"inherit",padding:0},children:Object(v.jsx)(u.a,{className:"modal-fullscreen text-center",children:Object(v.jsx)(u.a,{className:"d-flex flex-column mx-auto my-auto",style:{maxWidth:800,minHeight:450,marginTop:20},children:Object(v.jsx)(l.a,{className:"col-12 col-sm-10 col-lg-12 mx-auto",style:{marginTop:20,marginBottom:20,borderRadius:16,boxShadow:"10px 10px 10px rgba(30,30,30,0.5)",borderLeft:"solid 1px rgba(255,255,255,0.8)",borderTop:"solid 1px rgba(255,255,255,0.8)"},children:Object(v.jsxs)(l.a.Body,{children:[Object(v.jsx)(m.a,{color:"#eb6164",loading:J,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1}}),Object(v.jsx)("div",{className:"d-flex my-auto col-12",children:Object(v.jsx)("div",{className:"col-12",children:Object(v.jsx)("div",{className:"float-start",style:{marginTop:10,marginLeft:20},children:Object(v.jsx)(h.LinkContainer,{to:"/account",className:"my-auto",children:Object(v.jsx)(s.a,{style:{height:40,width:100},variant:"warning",children:Object(v.jsx)(y.a,{icon:g.a,color:"black"})})})})})}),Object(v.jsx)("h2",{className:"fw-normal mb-4",style:{fontFamily:"Arial"},children:"Aggiorna Profilo"}),G&&Object(v.jsx)(o.a,{style:{margin:20},variant:"danger",children:G}),A&&Object(v.jsx)(o.a,{style:{margin:20},variant:"warning",children:A}),Object(v.jsxs)(r.a,{onSubmit:function(t){if(t.preventDefault(),T(""),E(""),S.current.value!==B.current.value)return T("Le password non corrispondono");if(F.current.value===a.luogo_resid&&V.current.value===a.prov_resid&&z.current.value===a.via_resid&&C.current.value===a.telefono)return E("Non hai cambiato nessun valore.");M(!0);const c=[];S.current.value&&c.push(e.updatePassword(S.current.value)),c.push(Object(b.c)(e.uid,N.current.value,w.current.value,_.current.value,R.current.value,k.current.value,P.current.value,I.current.value,F.current.value,V.current.value,z.current.value,C.current.value,L.current.value)),C.current.value!==a.telefono&&c.push(Object(f.f)(Object(f.i)(Object(f.b)(p.b,"diets"),Object(f.m)("email_nutrizionista","==",e.email))).then((e=>{const a=[];return e.forEach((e=>{a.push(Object(O.d)({numero_telefono_nutrizionista:C.current.value},e.id))})),Promise.all(a)}))),Promise.all(c).then((()=>{M(!1),U("/account",{state:"success-update",replace:!0})})).catch((()=>{T("Non \xe8 stato possibile aggiornare l'account")})).finally((()=>{H(!1),M(!1)}))},className:"d-flex flex-column",children:[Object(v.jsxs)(u.a,{className:"d-flex flex-wrap justify-content-evenly",children:[Object(v.jsx)(r.a.Group,{id:"nome",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"nome",label:"Nome",children:Object(v.jsx)(r.a.Control,{style:{color:"grey"},type:"text",ref:N,placeholder:"Nome",defaultValue:a.nome,readOnly:!0})})}),Object(v.jsx)(r.a.Group,{id:"cognome",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"cognome",label:"Cognome",children:Object(v.jsx)(r.a.Control,{style:{color:"grey"},type:"text",ref:w,placeholder:"Cognome",defaultValue:a.cognome,readOnly:!0})})})]}),Object(v.jsxs)(u.a,{className:"d-flex flex-wrap justify-content-evenly",children:[Object(v.jsx)(r.a.Group,{id:"sesso",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"sesso",label:"Sesso",children:Object(v.jsx)(r.a.Control,{style:{color:"grey"},type:"text",ref:_,placeholder:"Sesso",defaultValue:a.sesso,readOnly:!0})})}),Object(v.jsx)(r.a.Group,{id:"data_nasc",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"data_nasc",label:"Data di nascita",children:Object(v.jsx)(r.a.Control,{style:{color:"grey"},type:"date",ref:R,placeholder:"Data di nascita",defaultValue:a.data_nasc,readOnly:!0})})})]}),Object(v.jsxs)(u.a,{className:"d-flex flex-wrap justify-content-evenly",children:[Object(v.jsx)(r.a.Group,{id:"luogonasc",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"LuogoNasc",label:"Luogo di nascita",children:Object(v.jsx)(r.a.Control,{style:{color:"grey"},type:"text",ref:k,placeholder:"Luogo di nascita",defaultValue:a.luogo_nasc,readOnly:!0})})}),Object(v.jsx)(r.a.Group,{id:"Provincia",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"ProvinciaNasc",label:"Provincia di nascita",children:Object(v.jsx)(r.a.Control,{style:{color:"grey"},type:"text",ref:P,placeholder:"Provincia di nascita",defaultValue:a.prov_nasc,readOnly:!0})})})]}),Object(v.jsxs)(u.a,{className:"d-flex flex-wrap justify-content-evenly",children:[Object(v.jsx)(r.a.Group,{id:"cf",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"cf",label:"Codice Fiscale",children:Object(v.jsx)(r.a.Control,{style:{color:"grey"},type:"text",ref:I,placeholder:"Codice Fiscale",defaultValue:a.cf,readOnly:!0})})}),Object(v.jsx)(r.a.Group,{id:"luogoresid",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"LuogoResid",label:"Luogo di residenza",children:Object(v.jsx)(r.a.Control,{type:"text",ref:F,placeholder:"Luogo di residenza",defaultValue:a.luogo_resid,onClick:()=>E("")})})})]}),Object(v.jsxs)(u.a,{className:"d-flex flex-wrap justify-content-evenly",children:[Object(v.jsx)(r.a.Group,{id:"provinciaRes",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"provinciares",label:"Provincia di Residenza",children:Object(v.jsx)(r.a.Control,{type:"text",ref:V,placeholder:"Provincia di residenza",defaultValue:a.prov_resid,onClick:()=>E("")})})}),Object(v.jsx)(r.a.Group,{id:"via_resid",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"via_resid",label:"Via di Residenza",children:Object(v.jsx)(r.a.Control,{type:"text",ref:z,placeholder:"Via di residenza",defaultValue:a.via_resid,onClick:()=>E("")})})})]}),Object(v.jsxs)(u.a,{className:"d-flex flex-wrap justify-content-evenly",children:[Object(v.jsx)(r.a.Group,{id:"numeroTelefono",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"numeroTelefono",label:"Numero di telefono",children:Object(v.jsx)(r.a.Control,{type:"text",ref:C,placeholder:"Numero di telefono",defaultValue:a.telefono,onClick:()=>E("")})})}),Object(v.jsx)(r.a.Group,{id:"email",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"email",label:"Email",children:Object(v.jsx)(r.a.Control,{style:{color:"grey"},type:"email",ref:L,placeholder:"name@example.com",defaultValue:a.email,onClick:()=>E("Non \xe8 possibile cambiare l'email associata all'account in fase di registrazione"),readOnly:!0})})})]}),Object(v.jsxs)(u.a,{className:"d-flex flex-wrap justify-content-evenly",children:[Object(v.jsx)(r.a.Group,{id:"password",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"password",label:"Password",children:Object(v.jsx)(r.a.Control,{type:"password",ref:S,placeholder:"Password",onClick:()=>E("")})})}),Object(v.jsx)(r.a.Group,{id:"password-confirm",style:{marginBottom:15,padding:5},className:"col-12 col-sm-6",children:Object(v.jsx)(n.a,{controlId:"password-confirm",label:"Conferma Password",children:Object(v.jsx)(r.a.Control,{type:"password",ref:B,placeholder:"Password",onClick:()=>E("")})})})]}),Object(v.jsx)(u.a,{className:"d-flex flex-row justify-content-evenly",children:Object(v.jsx)("div",{className:"d-grid-4 gap-2 mt-3",children:Object(v.jsx)("button",{disabled:D,type:"submit",className:"btn btn-primary",children:"Conferma"})})}),Object(v.jsx)(u.a,{className:"d-flex flex-row justify-content-evenly",children:Object(v.jsx)("div",{className:"d-grid-4 gap-2 mt-3",children:Object(v.jsx)("div",{className:"w-100 text-center mt-2",children:Object(v.jsx)(d.Link,{to:"/account",children:"Annulla"})})})})]})]})})})})})})}}}]);
//# sourceMappingURL=15.e036593c.chunk.js.map
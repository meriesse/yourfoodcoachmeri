{"ast":null,"code":"import{Alert,Button,Card,Col,Modal,Row}from\"react-bootstrap\";import Container from\"react-bootstrap/Container\";import React from\"react\";import PieChart from\"react-pie-graph-chart\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faEyeSlash,faMagnifyingGlass}from\"@fortawesome/free-solid-svg-icons\";import MealAnalysisPreview from\"./MealAnalysisPreview\";import{sumArrayObject}from\"sum-any\";/*\n Componente che mostra i risultati dell'analisi di un pasto per mezzo di un Modal\n L'analisi viene effettuata sfruttando le API offerte da EDAMAM (https://developer.edamam.com/edamam-nutrition-api)\n La traduzione dell'input dell'utente, da italiano ad inglese, viene effettuata sfruttando le API offerte da LIBRETRANSLATE (https://libretranslate.de/)\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const MealAnalysisModal=_ref=>{let{showModal,setShowModal,showDetails,setShowDetails,nutrients,kcals,proteins,fats,carbohydrates,loading,userInput,food}=_ref;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Modal,{show:showModal,size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{className:\"justify-content-center\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"my-auto\",children:[\"Pasto: \\\"\",/*#__PURE__*/_jsx(\"strong\",{children:food}),\"\\\"\"]})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(Card,{className:\"col-10 mx-auto\",style:{padding:0,marginTop:15},children:/*#__PURE__*/_jsxs(Container,{style:{padding:0},children:[/*#__PURE__*/_jsx(Card.Header,{className:\"text-center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Valori nutrizionali totali\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Container,{className:\"col-12 my-auto\",style:{marginLeft:17},children:/*#__PURE__*/_jsxs(Row,{className:\"d-flex flew-row col-12 justify-content-center\",style:{marginRight:0},children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Energia:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsxs(\"p\",{children:[sumArrayObject(kcals,\"quantity\"),\" Kcal\"]})})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Carboidrati:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsxs(\"p\",{children:[sumArrayObject(carbohydrates,\"quantity\"),\" gr.\"]})})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Grassi:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsxs(\"p\",{children:[sumArrayObject(fats,\"quantity\"),\" gr.\"]})})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Proteine:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsxs(\"p\",{children:[sumArrayObject(proteins,\"quantity\"),\"gr.\"]})})]})]})})})]})}),/*#__PURE__*/_jsx(PieChart,{data:[{type:\"Carboidrati\",value:sumArrayObject(carbohydrates,\"quantity\"),color:\"#fbd464\"},{type:\"Grassi\",value:sumArrayObject(fats,\"quantity\"),color:\"#fb7270\"},{type:\"Proteine\",value:sumArrayObject(proteins,\"quantity\"),color:\"#3897f1\"}]}),/*#__PURE__*/_jsx(Container,{className:\"mx-auto col-5 text-center\",children:showDetails?/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",className:\"btn d-block mx-auto\",onClick:e=>setShowDetails(false),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEyeSlash,style:{marginRight:5}}),\"Nascondi dettagli\"]}):/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",className:\"btn mx-auto\",onClick:e=>setShowDetails(true),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMagnifyingGlass,style:{marginRight:5}}),\"Mostra dettagli\"]})}),/*#__PURE__*/_jsx(Container,{style:{marginTop:20},children:showDetails&&nutrients.map((item,index)=>/*#__PURE__*/_jsx(MealAnalysisPreview,{index:index,userInput:userInput,item:item},index))}),nutrients.length===0&&loading===false?/*#__PURE__*/_jsx(Alert,{className:\"col-10 mx-auto\",variant:\"warning\",children:\"La ricerca non ha prodotto risultati\"}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>setShowModal(false),children:\"Chiudi\"})})]})});};export default MealAnalysisModal;","map":{"version":3,"names":["Alert","Button","Card","Col","Modal","Row","Container","React","PieChart","FontAwesomeIcon","faEyeSlash","faMagnifyingGlass","MealAnalysisPreview","sumArrayObject","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MealAnalysisModal","_ref","showModal","setShowModal","showDetails","setShowDetails","nutrients","kcals","proteins","fats","carbohydrates","loading","userInput","food","children","show","size","centered","Header","className","Body","style","padding","marginTop","marginLeft","marginRight","data","type","value","color","variant","onClick","e","icon","map","item","index","length","Footer"],"sources":["/Users/angelamariaselvaggi/Desktop/unimeri/Tesi/Applicazione/APP MERI/src/Components/Meals/MealAnalysisModal.js"],"sourcesContent":["import {Alert, Button, Card, Col, Modal, Row} from \"react-bootstrap\";\nimport Container from \"react-bootstrap/Container\";\nimport React from \"react\";\nimport PieChart from \"react-pie-graph-chart\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faEyeSlash, faMagnifyingGlass} from \"@fortawesome/free-solid-svg-icons\";\nimport MealAnalysisPreview from \"./MealAnalysisPreview\";\nimport {sumArrayObject} from \"sum-any\";\n\n/*\n Componente che mostra i risultati dell'analisi di un pasto per mezzo di un Modal\n L'analisi viene effettuata sfruttando le API offerte da EDAMAM (https://developer.edamam.com/edamam-nutrition-api)\n La traduzione dell'input dell'utente, da italiano ad inglese, viene effettuata sfruttando le API offerte da LIBRETRANSLATE (https://libretranslate.de/)\n */\nconst MealAnalysisModal = ({\n                               showModal, setShowModal, showDetails, setShowDetails, nutrients,\n                               kcals, proteins, fats, carbohydrates, loading, userInput, food\n                           }) => {\n    return (\n        <>\n            <Modal\n                show={showModal}\n                size=\"lg\"\n                aria-labelledby=\"contained-modal-title-vcenter\"\n                centered\n            >\n                <Modal.Header className={\"justify-content-center\"}>\n                    <h5 className={\"my-auto\"}>Pasto: \"<strong>{food}</strong>\"</h5>\n                </Modal.Header>\n                <Modal.Body>\n                    <Card className={\"col-10 mx-auto\"}\n                          style={{padding: 0, marginTop: 15}}>\n                        <Container style={{padding: 0}}>\n                            <Card.Header className={\"text-center\"}><strong>Valori nutrizionali\n                                                                           totali</strong></Card.Header>\n                            <Card.Body>\n                                <Container className={\"col-12 my-auto\"}\n                                           style={{marginLeft: 17}}>\n                                    <Row className={\"d-flex flew-row col-12 justify-content-center\"}\n                                         style={{marginRight: 0}}>\n                                        <Col>\n                                            <div className=\"text-start\">\n                                                <strong>Energia:</strong>\n                                            </div>\n                                            <div className=\"text-start\">\n                                                <p>{sumArrayObject(kcals, \"quantity\")} Kcal</p>\n                                            </div>\n                                        </Col>\n                                        <Col>\n                                            <div className=\"text-start\">\n                                                <strong>Carboidrati:</strong>\n                                            </div>\n                                            <div className=\"text-start\">\n                                                <p>{sumArrayObject(carbohydrates, \"quantity\")} gr.</p>\n                                            </div>\n                                        </Col>\n                                        <Col>\n                                            <div className=\"text-start\">\n                                                <strong>Grassi:</strong>\n                                            </div>\n                                            <div className=\"text-start\">\n                                                <p>{sumArrayObject(fats, \"quantity\")} gr.</p>\n                                            </div>\n                                        </Col>\n                                        <Col>\n                                            <div className=\"text-start\">\n                                                <strong>Proteine:</strong>\n                                            </div>\n                                            <div className=\"text-start\">\n                                                <p>{sumArrayObject(proteins, \"quantity\")}gr.</p>\n                                            </div>\n                                        </Col>\n                                    </Row>\n                                </Container>\n                            </Card.Body>\n                        </Container>\n                    </Card>\n                    <PieChart data={[\n                        {\n                            type: \"Carboidrati\",\n                            value: sumArrayObject(carbohydrates, \"quantity\"),\n                            color: \"#fbd464\"\n                        },\n                        {\n                            type: \"Grassi\",\n                            value: sumArrayObject(fats, \"quantity\"),\n                            color: \"#fb7270\"\n                        },\n                        {\n                            type: \"Proteine\",\n                            value: sumArrayObject(proteins, \"quantity\"),\n                            color: \"#3897f1\"\n                        }\n                    ]}/>\n                    <Container className={\"mx-auto col-5 text-center\"}>\n                        {showDetails\n                            ? (<Button variant=\"outline-secondary\"\n                                       className={\"btn d-block mx-auto\"}\n                                       onClick={(e) => setShowDetails(false)}><FontAwesomeIcon icon={faEyeSlash}\n                                                                                               style={{marginRight: 5}}/>Nascondi dettagli</Button>)\n                            : (<Button variant=\"outline-secondary\"\n                                       className={\"btn mx-auto\"}\n                                       onClick={(e) => setShowDetails(true)}><FontAwesomeIcon icon={faMagnifyingGlass}\n                                                                                              style={{marginRight: 5}}/>Mostra\n                                                                                                                        dettagli</Button>)\n                        }\n                    </Container>\n                    <Container style={{marginTop: 20}}>\n                        {showDetails && nutrients.map((item, index) => (\n                            <MealAnalysisPreview key={index}\n                                                 index={index}\n                                                 userInput={userInput}\n                                                 item={item}/>\n                        ))}\n                    </Container>\n                    {(nutrients.length === 0 && loading === false) ? (\n                        <Alert className={\"col-10 mx-auto\"}\n                               variant={\"warning\"}>La\n                                                   ricerca non ha prodotto risultati</Alert>) : (<></>)}\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button onClick={() => setShowModal(false)}>Chiudi</Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n};\n\nexport default MealAnalysisModal;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
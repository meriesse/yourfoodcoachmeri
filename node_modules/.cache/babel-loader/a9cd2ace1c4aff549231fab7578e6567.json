{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{Alert,Button,Card,Col,Form,InputGroup,Navbar,Row}from\"react-bootstrap\";import Container from\"react-bootstrap/Container\";import ShowMealsImg from\"../../img/showMealsImg.svg\";import{SyncLoader}from\"react-spinners\";import MealAnalysisPreview from\"./MealAnalysisPreview\";import PieChart from\"react-pie-graph-chart\";import{faEyeSlash,faMagnifyingGlass}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{urlEncoded}from\"../../context/DietContext\";import{scrollToTop}from\"../helpers/scroll\";import{sumArrayObject}from\"sum-any\";import{clearArray}from\"../../context/MealContext\";/*\n Funzione che si occupa di eseguire l'analisi di un pasto dato in input dall'utente\n L'analisi viene effettuata sfruttando le API offerte da EDAMAM (https://developer.edamam.com/edamam-nutrition-api)\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MealAnalysis(){const[warning,setWarning]=useState(\"\");const[progress,setProgress]=useState(false);const[loading,setLoading]=useState(true);const[food,setFood]=useState(\"\");const[nutrients]=useState([]);const[kcals]=useState([]);const[proteins]=useState([]);const[fats]=useState([]);const[carbohydrates]=useState([]);const[userInput,setUserInput]=useState([]);const[showDetails,setShowDetails]=useState(false);const mealNameRegex=/^([a-z\\s]+\\d+[a-z\\s]+,)*([a-z\\s]+\\d+[a-z\\s]+){1}$/;const cardBackgroundColor={background:\"#FFEAD3\"};//Ad ogni caricamento la pagina effettua uno scroll fino al suo inizio\nuseEffect(()=>{scrollToTop();},[]);/*\n     Funzione per l'analisi del pasto in input\n     L'analisi viene effettuata sfruttando le API offerte da EDAMAM (https://developer.edamam.com/edamam-nutrition-api)\n     La traduzione dell'input dell'utente, da italiano ad inglese, viene effettuata sfruttando le API offerte da LIBRETRANSLATE (https://libretranslate.de/)\n     */const handleSubmit=async e=>{e.preventDefault();setWarning(\"\");if(!mealNameRegex.test(food)){setProgress(false);setLoading(false);scrollToTop();return setWarning(\"Per poter eseguire l'analisi il titolo del pasto deve contenere il nome dell'ingrediente e la sua quantità, in caso di più ingredienti questi devono essere separati da una virgola: es. pane 50 gr, petto di pollo 80 gr\");}if(food!==\"\"){//Inizializzo gli array per una nuova ricerca\nclearArray(nutrients);clearArray(kcals);clearArray(proteins);clearArray(carbohydrates);clearArray(fats);setProgress(true);setLoading(true);const req={q:food,source:\"it\",target:\"en\"};axios.post(\"https://translate.argosopentech.com/translate\",req).then(response=>{setUserInput(food.split(\",\"));response.data.translatedText.split(\",\").forEach(ingredient=>{let stringify=urlEncoded(ingredient);axios.get(\"https://api.edamam.com/api/nutrition-data?app_id=b92c2025&app_key=e1942e617a37552b845d1db4d36d9522&ingr=\".concat(stringify)).then(res=>{nutrients.push(res.data.totalNutrientsKCal);proteins.push(res.data.totalNutrientsKCal.PROCNT_KCAL);carbohydrates.push(res.data.totalNutrientsKCal.CHOCDF_KCAL);fats.push(res.data.totalNutrientsKCal.FAT_KCAL);kcals.push(res.data.totalNutrientsKCal.ENERC_KCAL);if(nutrients.length===food.split(\",\").length){setProgress(false);setLoading(false);}});});});}else{setWarning(\"Per poter effettuare la ricerca inserisci prima un pasto nel formato richiesto: \\nes. pane 50 gr, petto di pollo 80 gr\");}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{className:\"modal-fullscreen\",style:{background:\"linear-gradient(123deg, rgba(247,209,98,1) 30%, rgba(251,149,96,1) 50%, rgba(254,88,94,1) 70%)\",backgroundSize:\"cover\",minHeight:\"inherit\",padding:0},children:/*#__PURE__*/_jsx(Container,{className:\"modal-fullscreen text-center\",children:/*#__PURE__*/_jsx(Container,{className:\"d-flex flex-column mx-auto my-auto\",style:{minHeight:450,marginTop:20},children:/*#__PURE__*/_jsxs(Card,{className:\"col-12 col-md-10 mx-auto\",style:{marginTop:20,marginBottom:20,borderRadius:16,boxShadow:\"10px 10px 10px rgba(30,30,30,0.5)\",borderLeft:\"solid 1px rgba(255,255,255,0.8)\",borderTop:\"solid 1px rgba(255,255,255,0.8)\"},children:[/*#__PURE__*/_jsx(SyncLoader,{color:\"#eb6164\",loading:progress,style:{position:\"absolute\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\",zIndex:1}}),/*#__PURE__*/_jsxs(Card,{className:\"col-11 col-lg-11 mx-auto\",style:{marginTop:20,marginBottom:20},children:[/*#__PURE__*/_jsx(Card.Header,{style:cardBackgroundColor,className:\"text-start\",as:\"h5\",children:\"Analisi pasto\"}),/*#__PURE__*/_jsxs(Card.Body,{children:[warning&&/*#__PURE__*/_jsx(Alert,{style:{margin:20},variant:\"warning\",children:warning}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Container,{className:\"d-flex justify-content-center my-auto align-items-center col-12\",style:{padding:0},children:/*#__PURE__*/_jsx(\"img\",{src:ShowMealsImg,id:\"ShowMealsImg\",style:{height:200,width:200,marginRight:10},alt:\"Pasti\"})}),/*#__PURE__*/_jsx(\"div\",{children:\"Inserisci un pasto per ottenere subito informazioni riguardo ai macronutrienti e ai valori calorici degli ingredienti in esso contenuti:\"}),/*#__PURE__*/_jsx(Navbar,{expand:\"lg\",children:/*#__PURE__*/_jsxs(Container,{className:\"d-flex flex-wrap justify-content-evenly col-12 col-sm-10 gap-2\",children:[/*#__PURE__*/_jsx(Container,{style:{marginBottom:15,padding:5},className:\"col-12 col-sm-8 my-auto\",children:/*#__PURE__*/_jsx(InputGroup,{style:{marginTop:10},className:\"my-auto\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"search\",placeholder:\"es. pane 50 gr, petto di pollo 80 gr\",\"aria-label\":\"Search\",value:food,onChange:e=>setFood(e.target.value)})})}),/*#__PURE__*/_jsx(Container,{className:\"col-12 col-sm-2 my-auto mx-auto\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",className:\"flex-wrap\",onClick:handleSubmit,children:\"Analizza\"})})]})}),!loading?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsx(\"small\",{style:{color:\"grey\",verticalAlign:\"bottom\"},children:\"Inserisci gli ingredienti separandoli con la virgola\"}),progress?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/ //Ha finito di caricare i risultati della ricerca\n_jsxs(_Fragment,{children:[!loading&&nutrients.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Card,{className:\"col-10 mx-auto\",style:{padding:0,marginTop:15},children:/*#__PURE__*/_jsxs(Container,{style:{padding:0},children:[/*#__PURE__*/_jsx(Card.Header,{className:\"text-center\",style:cardBackgroundColor,children:/*#__PURE__*/_jsx(\"strong\",{children:\"Valori nutrizionali totali\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Container,{className:\"col-12 my-auto\",style:{marginLeft:17},children:/*#__PURE__*/_jsxs(Row,{className:\"d-flex flew-row col-12 justify-content-center\",style:{marginRight:0},children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Energia:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsxs(\"p\",{children:[sumArrayObject(kcals,\"quantity\"),\" Kcal\"]})})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Carboidrati:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsxs(\"p\",{children:[sumArrayObject(carbohydrates,\"quantity\"),\" gr.\"]})})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Grassi:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsxs(\"p\",{children:[sumArrayObject(fats,\"quantity\"),\" gr.\"]})})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Proteine:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-start\",children:/*#__PURE__*/_jsxs(\"p\",{children:[sumArrayObject(proteins,\"quantity\"),\"gr.\"]})})]})]})})})]})}),/*#__PURE__*/_jsx(PieChart,{data:[{type:\"Carboidrati\",value:sumArrayObject(carbohydrates,\"quantity\"),color:\"#fbd464\"},{type:\"Grassi\",value:sumArrayObject(fats,\"quantity\"),color:\"#fb7270\"},{type:\"Proteine\",value:sumArrayObject(proteins,\"quantity\"),color:\"#3897f1\"}]}),/*#__PURE__*/_jsxs(Container,{children:[showDetails?/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",className:\"flex-wrap\",onClick:e=>setShowDetails(false),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEyeSlash,style:{marginRight:5}}),\"Nascondi dettagli\"]}):/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",className:\"flex-wrap\",onClick:e=>setShowDetails(true),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMagnifyingGlass,style:{marginRight:5}}),\"Mostra dettagli\"]}),/*#__PURE__*/_jsx(Container,{style:{marginTop:20},children:showDetails&&nutrients.map((item,index)=>/*#__PURE__*/_jsx(MealAnalysisPreview,{index:index,userInput:userInput,item:item},index))})]})]}),nutrients.length===0&&!warning&&loading===false?/*#__PURE__*/_jsx(Alert,{className:\"col-10 mx-auto\",variant:\"warning\",children:\"La ricerca non ha prodotto risultati\"}):/*#__PURE__*/_jsx(_Fragment,{})]})]})})]})]})]})})})})});}","map":{"version":3,"names":["React","useEffect","useState","axios","Alert","Button","Card","Col","Form","InputGroup","Navbar","Row","Container","ShowMealsImg","SyncLoader","MealAnalysisPreview","PieChart","faEyeSlash","faMagnifyingGlass","FontAwesomeIcon","urlEncoded","scrollToTop","sumArrayObject","clearArray","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MealAnalysis","warning","setWarning","progress","setProgress","loading","setLoading","food","setFood","nutrients","kcals","proteins","fats","carbohydrates","userInput","setUserInput","showDetails","setShowDetails","mealNameRegex","cardBackgroundColor","background","handleSubmit","e","preventDefault","test","req","q","source","target","post","then","response","split","data","translatedText","forEach","ingredient","stringify","get","concat","res","push","totalNutrientsKCal","PROCNT_KCAL","CHOCDF_KCAL","FAT_KCAL","ENERC_KCAL","length","children","className","style","backgroundSize","minHeight","padding","marginTop","marginBottom","borderRadius","boxShadow","borderLeft","borderTop","color","position","top","left","transform","zIndex","Header","as","Body","margin","variant","src","id","height","width","marginRight","alt","expand","Control","type","placeholder","value","onChange","onClick","verticalAlign","marginLeft","icon","map","item","index"],"sources":["/Users/angelamariaselvaggi/Desktop/unimeri/Tesi/Applicazione/APP MERI/src/Components/Meals/MealAnalysis.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport {Alert, Button, Card, Col, Form, InputGroup, Navbar, Row} from \"react-bootstrap\";\nimport Container from \"react-bootstrap/Container\";\nimport ShowMealsImg from \"../../img/showMealsImg.svg\";\nimport {SyncLoader} from \"react-spinners\";\nimport MealAnalysisPreview from \"./MealAnalysisPreview\";\nimport PieChart from \"react-pie-graph-chart\";\nimport {faEyeSlash, faMagnifyingGlass} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {urlEncoded} from \"../../context/DietContext\";\nimport {scrollToTop} from \"../helpers/scroll\";\nimport {sumArrayObject} from \"sum-any\";\nimport {clearArray} from \"../../context/MealContext\";\n\n/*\n Funzione che si occupa di eseguire l'analisi di un pasto dato in input dall'utente\n L'analisi viene effettuata sfruttando le API offerte da EDAMAM (https://developer.edamam.com/edamam-nutrition-api)\n */\nexport default function MealAnalysis() {\n    const [warning, setWarning] = useState(\"\");\n    const [progress, setProgress] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [food, setFood] = useState(\"\");\n    const [nutrients] = useState([]);\n    const [kcals] = useState([]);\n    const [proteins] = useState([]);\n    const [fats] = useState([]);\n    const [carbohydrates] = useState([]);\n    const [userInput, setUserInput] = useState([]);\n    const [showDetails, setShowDetails] = useState(false);\n    const mealNameRegex = /^([a-z\\s]+\\d+[a-z\\s]+,)*([a-z\\s]+\\d+[a-z\\s]+){1}$/;\n\n\n    const cardBackgroundColor = {\n        background: \"#FFEAD3\"\n    };\n\n    //Ad ogni caricamento la pagina effettua uno scroll fino al suo inizio\n    useEffect(() => {\n        scrollToTop();\n    }, []);\n\n    /*\n     Funzione per l'analisi del pasto in input\n     L'analisi viene effettuata sfruttando le API offerte da EDAMAM (https://developer.edamam.com/edamam-nutrition-api)\n     La traduzione dell'input dell'utente, da italiano ad inglese, viene effettuata sfruttando le API offerte da LIBRETRANSLATE (https://libretranslate.de/)\n     */\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setWarning(\"\");\n\n        if (!mealNameRegex.test(food)) {\n            setProgress(false);\n            setLoading(false);\n            scrollToTop();\n            return setWarning(\"Per poter eseguire l'analisi il titolo del pasto deve contenere il nome dell'ingrediente e la sua quantità, in caso di più ingredienti questi devono essere separati da una virgola: es. pane 50 gr, petto di pollo 80 gr\");\n        }\n        if (food !== \"\") {\n            //Inizializzo gli array per una nuova ricerca\n            clearArray(nutrients);\n            clearArray(kcals);\n            clearArray(proteins);\n            clearArray(carbohydrates);\n            clearArray(fats);\n\n            setProgress(true);\n            setLoading(true);\n            const req = {\n                q: food,\n                source: \"it\",\n                target: \"en\"\n            };\n            axios.post(`https://translate.argosopentech.com/translate`, req).then((response) => {\n                setUserInput(food.split(\",\"));\n                response.data.translatedText.split(\",\").forEach((ingredient) => {\n                    let stringify = urlEncoded(ingredient);\n                    axios.get(`https://api.edamam.com/api/nutrition-data?app_id=b92c2025&app_key=e1942e617a37552b845d1db4d36d9522&ingr=${stringify}`)\n                         .then((res) => {\n                             nutrients.push(res.data.totalNutrientsKCal);\n                             proteins.push(res.data.totalNutrientsKCal.PROCNT_KCAL);\n                             carbohydrates.push(res.data.totalNutrientsKCal.CHOCDF_KCAL);\n                             fats.push(res.data.totalNutrientsKCal.FAT_KCAL);\n                             kcals.push(res.data.totalNutrientsKCal.ENERC_KCAL);\n\n                             if (nutrients.length === food.split(\",\").length) {\n                                 setProgress(false);\n                                 setLoading(false);\n                             }\n                         });\n                });\n            });\n        } else {\n            setWarning(\"Per poter effettuare la ricerca inserisci prima un pasto nel formato richiesto: \\nes. pane 50 gr, petto di pollo 80 gr\");\n        }\n    };\n\n    return (\n        <>\n            <Container className={\"modal-fullscreen\"}\n                       style={{\n                           background: \"linear-gradient(123deg, rgba(247,209,98,1) 30%, rgba(251,149,96,1) 50%, rgba(254,88,94,1) 70%)\",\n                           backgroundSize: \"cover\",\n                           minHeight: \"inherit\",\n                           padding: 0\n                       }}>\n                <Container className={\"modal-fullscreen text-center\"}>\n                    <Container className={\"d-flex flex-column mx-auto my-auto\"}\n                               style={{minHeight: 450, marginTop: 20}}>\n                        <Card className={\"col-12 col-md-10 mx-auto\"}\n                              style={{\n                                  marginTop: 20,\n                                  marginBottom: 20,\n                                  borderRadius: 16,\n                                  boxShadow: \"10px 10px 10px rgba(30,30,30,0.5)\",\n                                  borderLeft: \"solid 1px rgba(255,255,255,0.8)\",\n                                  borderTop: \"solid 1px rgba(255,255,255,0.8)\"\n                              }}>\n                            <SyncLoader color=\"#eb6164\"\n                                        loading={progress}\n                                        style={{\n                                            position: \"absolute\",\n                                            top: \"50%\",\n                                            left: \"50%\",\n                                            transform: \"translate(-50%, -50%)\",\n                                            zIndex: 1\n                                        }}/>\n                            <Card className={\"col-11 col-lg-11 mx-auto\"}\n                                  style={{marginTop: 20, marginBottom: 20}}>\n                                <Card.Header style={cardBackgroundColor}\n                                             className={\"text-start\"}\n                                             as=\"h5\">Analisi\n                                                     pasto</Card.Header>\n                                <Card.Body>\n                                    {warning && <Alert style={{margin: 20}}\n                                                       variant=\"warning\">{warning}</Alert>}\n                                    <>\n                                        <div>\n                                            <Container\n                                                className={\"d-flex justify-content-center my-auto align-items-center col-12\"}\n                                                style={{padding: 0}}>\n                                                <img src={ShowMealsImg}\n                                                     id={\"ShowMealsImg\"}\n                                                     style={{height: 200, width: 200, marginRight: 10}}\n                                                     alt={\"Pasti\"}/>\n                                            </Container>\n                                            <div>\n                                                Inserisci un pasto per ottenere subito informazioni riguardo ai\n                                                macronutrienti e ai valori calorici degli ingredienti in esso contenuti:\n                                            </div>\n                                            <Navbar expand=\"lg\">\n                                                <Container\n                                                    className={\"d-flex flex-wrap justify-content-evenly col-12 col-sm-10 gap-2\"}>\n                                                    <Container style={{marginBottom: 15, padding: 5}}\n                                                               className={\"col-12 col-sm-8 my-auto\"}>\n                                                        <InputGroup style={{marginTop: 10}}\n                                                                    className={\"my-auto\"}>\n                                                            <Form.Control\n                                                                type=\"search\"\n                                                                placeholder={\"es. pane 50 gr, petto di pollo 80 gr\"}\n                                                                aria-label=\"Search\"\n                                                                value={food}\n                                                                onChange={(e) => setFood(e.target.value)}\n                                                            />\n                                                        </InputGroup>\n                                                    </Container>\n                                                    <Container className={\"col-12 col-sm-2 my-auto mx-auto\"}>\n                                                        <Button variant=\"outline-danger\"\n                                                                className={\"flex-wrap\"}\n                                                                onClick={handleSubmit}>Analizza</Button>\n                                                    </Container>\n                                                </Container>\n                                            </Navbar>\n                                            {!loading ? (<></>) : (\n                                                <small style={{color: \"grey\", verticalAlign: \"bottom\"}}>Inserisci gli\n                                                                                                        ingredienti separandoli con la virgola</small>\n                                            )}\n                                            {progress ? (<></>) : (\n                                                //Ha finito di caricare i risultati della ricerca\n                                                <>\n                                                    {(!loading && nutrients.length > 0) && (\n                                                        <>\n                                                            <Card className={\"col-10 mx-auto\"}\n                                                                  style={{padding: 0, marginTop: 15}}>\n                                                                <Container style={{padding: 0}}>\n                                                                    <Card.Header className={\"text-center\"}\n                                                                                 style={cardBackgroundColor}><strong>Valori\n                                                                                                                     nutrizionali totali</strong></Card.Header>\n                                                                    <Card.Body>\n                                                                        <Container className={\"col-12 my-auto\"}\n                                                                                   style={{marginLeft: 17}}>\n                                                                            <Row\n                                                                                className={\"d-flex flew-row col-12 justify-content-center\"}\n                                                                                style={{marginRight: 0}}>\n                                                                                <Col>\n                                                                                    <div className=\"text-start\">\n                                                                                        <strong>Energia:</strong>\n                                                                                    </div>\n                                                                                    <div className=\"text-start\">\n                                                                                        <p>{sumArrayObject(kcals, \"quantity\")} Kcal</p>\n                                                                                    </div>\n                                                                                </Col>\n                                                                                <Col>\n                                                                                    <div className=\"text-start\">\n                                                                                        <strong>Carboidrati:</strong>\n                                                                                    </div>\n                                                                                    <div className=\"text-start\">\n                                                                                        <p>{sumArrayObject(carbohydrates, \"quantity\")} gr.</p>\n                                                                                    </div>\n                                                                                </Col>\n                                                                                <Col>\n                                                                                    <div className=\"text-start\">\n                                                                                        <strong>Grassi:</strong>\n                                                                                    </div>\n                                                                                    <div className=\"text-start\">\n                                                                                        <p>{sumArrayObject(fats, \"quantity\")} gr.</p>\n                                                                                    </div>\n                                                                                </Col>\n                                                                                <Col>\n                                                                                    <div className=\"text-start\">\n                                                                                        <strong>Proteine:</strong>\n                                                                                    </div>\n                                                                                    <div className=\"text-start\">\n                                                                                        <p>{sumArrayObject(proteins, \"quantity\")}gr.</p>\n                                                                                    </div>\n                                                                                </Col>\n                                                                            </Row>\n                                                                        </Container>\n                                                                    </Card.Body>\n                                                                </Container>\n                                                            </Card>\n                                                            <PieChart data={[\n                                                                {\n                                                                    type: \"Carboidrati\",\n                                                                    value: sumArrayObject(carbohydrates, \"quantity\"),\n                                                                    color: \"#fbd464\"\n                                                                },\n                                                                {\n                                                                    type: \"Grassi\",\n                                                                    value: sumArrayObject(fats, \"quantity\"),\n                                                                    color: \"#fb7270\"\n                                                                },\n                                                                {\n                                                                    type: \"Proteine\",\n                                                                    value: sumArrayObject(proteins, \"quantity\"),\n                                                                    color: \"#3897f1\"\n                                                                }\n                                                            ]}/>\n                                                            <Container>\n                                                                {showDetails\n                                                                    ? (<Button variant=\"outline-secondary\"\n                                                                               className={\"flex-wrap\"}\n                                                                               onClick={(e) => setShowDetails(false)}><FontAwesomeIcon\n                                                                        icon={faEyeSlash}\n                                                                        style={{marginRight: 5}}/>Nascondi\n                                                                                                  dettagli</Button>)\n                                                                    : (<Button variant=\"outline-secondary\"\n                                                                               className={\"flex-wrap\"}\n                                                                               onClick={(e) => setShowDetails(true)}><FontAwesomeIcon\n                                                                        icon={faMagnifyingGlass}\n                                                                        style={{marginRight: 5}}/>Mostra\n                                                                                                  dettagli</Button>)\n                                                                }\n                                                                <Container style={{marginTop: 20}}>\n                                                                    {showDetails && nutrients.map((item, index) => (\n                                                                        <MealAnalysisPreview key={index}\n                                                                                             index={index}\n                                                                                             userInput={userInput}\n                                                                                             item={item}/>\n                                                                    ))}\n                                                                </Container>\n                                                            </Container>\n                                                        </>\n                                                    )}\n                                                    {(nutrients.length === 0 && !warning && loading === false) ? (\n                                                        <Alert className={\"col-10 mx-auto\"}\n                                                               variant={\"warning\"}>La ricerca non ha prodotto risultati</Alert>) : (<></>)}\n                                                </>\n                                            )}\n                                        </div>\n                                    </>\n                                </Card.Body>\n                            </Card>\n                        </Card>\n                    </Container>\n                </Container>\n            </Container>\n        </>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
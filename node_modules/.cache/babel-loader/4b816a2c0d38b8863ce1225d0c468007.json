{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Alert,Button,Card,Form}from\"react-bootstrap\";import{useNavigate}from\"react-router-dom\";import Container from\"react-bootstrap/Container\";import NewMealImg from\"../../img/showMealImg.svg\";import{SyncLoader}from\"react-spinners\";import{addMeal,clearArray}from\"../../context/MealContext\";import MealSections from\"./MealSections\";import{useAuth}from\"../../context/AuthContext\";import{scrollToTop}from\"../helpers/scroll\";import MealAnalysisModal from\"./MealAnalysisModal\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faAngleLeft,faPlus}from\"@fortawesome/free-solid-svg-icons\";import axios from\"axios\";import{urlEncoded}from\"../../context/DietContext\";import{LinkContainer}from\"react-router-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function NewMeal(){const{currentUser}=useAuth();const[disabled]=useState(false);const[warning,setWarning]=useState(\"\");const[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);const[progress,setProgress]=useState(false);const navigate=useNavigate();const mealNameRegex=/^([a-z\\s]+\\d+[a-z\\s]+,)*([a-z\\s]+\\d+[a-z\\s]+){1}$/;const[showModal,setShowModal]=useState(false);const[food,setFood]=useState([\"\"]);const[userInput,setUserInput]=useState([\"\"]);const[showDetails,setShowDetails]=useState(false);const[nutrients]=useState([]);const[kcals]=useState([]);const[proteins]=useState([]);const[fats]=useState([]);const[carbohydrates]=useState([]);const[formData,setFormData]=useState({email_nutrizionista:currentUser.email,data_inserimento:\"\",nome:\"\",preparazione:\"\",colazione:false,pranzo:false,spuntino:false,cena:false});//Ad ogni caricamento la pagina effettua uno scroll fino al suo inizio\nuseEffect(()=>{scrollToTop();},[]);function handleSubmit(e){e.preventDefault();setProgress(true);setLoading(true);/*if (!mealNameRegex.test(formData.nome)) {\n         setProgress(false);\n         setLoading(false);\n         scrollToTop();\n         return setError(\"Il titolo del pasto deve contenere il nome dell'ingrediente e la sua quantità, in caso di più ingredienti questi devono essere separati da una virgola: es. pane 50 gr, petto di pollo 80 gr\");\n         }*/if(formData.colazione===false&&formData.pranzo===false&&formData.spuntino===false&&formData.cena===false){setProgress(false);setLoading(false);scrollToTop();return setError(\"Per poter creare il pasto devi prima selezionare una categoria!\");}addMeal(formData).then(r=>{console.log(\"Pasto creato correttamente\");setProgress(false);setLoading(false);//L'utente viene indirizzato alla pagina che visualizza l'elenco dei pasti creati\nnavigate(\"/pasti\",{state:\"success-create\",replace:true});}).catch(error=>console.error(error)).finally(()=>{setProgress(false);setLoading(false);});}/*\n     Funzione per l'analisi del pasto in input\n     L'analisi viene effettuata sfruttando le API offerte da EDAMAM (https://developer.edamam.com/edamam-nutrition-api)\n     */const handleSubmitAnalysis=async(e,value)=>{e.preventDefault();setWarning(\"\");if(!mealNameRegex.test(formData.nome)){setProgress(false);setLoading(false);scrollToTop();return setWarning(\"Per poter eseguire l'analisi il titolo del pasto deve contenere il nome dell'ingrediente e la sua quantità, in caso di più ingredienti questi devono essere separati da una virgola: es. pane 50 gr, petto di pollo 80 gr\");}if(value!==\"\"&&value!==undefined){//Inizializzo gli array per una nuova ricerca\nclearArray(nutrients);clearArray(kcals);clearArray(proteins);clearArray(carbohydrates);clearArray(fats);setProgress(true);setLoading(true);const req={q:value,source:\"it\",target:\"en\"};axios.post(\"https://translate.argosopentech.com/translate\",req).then(response=>{setFood(value);setUserInput(value.split(\",\"));response.data.translatedText.split(\",\").forEach(ingredient=>{let stringify=urlEncoded(ingredient);axios.get(\"https://api.edamam.com/api/nutrition-data?app_id=b92c2025&app_key=e1942e617a37552b845d1db4d36d9522&ingr=\".concat(stringify)).then(res=>{nutrients.push(res.data.totalNutrientsKCal);proteins.push(res.data.totalNutrientsKCal.PROCNT_KCAL);carbohydrates.push(res.data.totalNutrientsKCal.CHOCDF_KCAL);fats.push(res.data.totalNutrientsKCal.FAT_KCAL);kcals.push(res.data.totalNutrientsKCal.ENERC_KCAL);if(nutrients.length===value.split(\",\").length){setProgress(false);}});});});setShowModal(true);}else{setWarning(\"Per poter effettuare la ricerca inserisci prima un pasto nel formato richiesto: \\nes. pane 50 gr, petto di pollo 80 gr\");}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{className:\"modal-fullscreen\",style:{background:\"linear-gradient(123deg, rgba(247,209,98,1) 30%, rgba(251,149,96,1) 50%, rgba(254,88,94,1) 70%)\",backgroundSize:\"cover\",minHeight:\"inherit\",padding:0},children:/*#__PURE__*/_jsx(Container,{className:\"modal-fullscreen text-center\",children:/*#__PURE__*/_jsx(Container,{className:\"d-flex flex-column mx-auto my-auto\",style:{minHeight:450,marginTop:20},children:/*#__PURE__*/_jsxs(Card,{className:\"col-12 mx-auto\",style:{marginTop:20,marginBottom:20,borderRadius:16,boxShadow:\"10px 10px 10px rgba(30,30,30,0.5)\",borderLeft:\"solid 1px rgba(255,255,255,0.8)\",borderTop:\"solid 1px rgba(255,255,255,0.8)\"},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{fontFamily:\"Arial\",marginTop:10},children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex my-auto col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"float-start\",style:{marginTop:10,marginLeft:20},children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/pasti\",className:\"my-auto\",children:/*#__PURE__*/_jsx(Button,{style:{height:40,width:100},variant:\"warning\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAngleLeft,color:\"black\"})})})})})}),/*#__PURE__*/_jsxs(Container,{className:\"d-flex justify-content-center my-auto align-items-center col-12\",children:[/*#__PURE__*/_jsx(\"img\",{src:NewMealImg,style:{height:70,width:70,marginRight:10},alt:\"Nuovo pasto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"my-auto\",style:{margin:0},children:\"Creazione Pasto\"})]})]}),error&&/*#__PURE__*/_jsx(Alert,{className:\"mx-auto col-10 flex-wrap\",variant:\"danger\",dismissible:true,onClose:()=>setError(\"\"),children:error}),warning&&/*#__PURE__*/_jsx(Alert,{className:\"mx-auto col-10 flex-wrap\",variant:\"warning\",dismissible:true,onClose:()=>setWarning(\"\"),children:warning}),/*#__PURE__*/_jsx(SyncLoader,{color:\"#eb6164\",loading:progress,style:{position:\"absolute\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\",zIndex:1}}),nutrients.length>0&&/*#__PURE__*/_jsx(MealAnalysisModal,{showModal:showModal,setShowModal:setShowModal,showDetails:showDetails,setShowDetails:setShowDetails,loading:loading,userInput:userInput,food:food,nutrients:nutrients,kcals:kcals,proteins:proteins,fats:fats,carbohydrates:carbohydrates}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(MealSections,{formData:formData,setFormData:setFormData,disabled:disabled}),/*#__PURE__*/_jsx(Container,{className:\"d-flex flex-wrap justify-content-evenly\",style:{marginBottom:20,marginTop:20},children:/*#__PURE__*/_jsxs(\"button\",{disabled:loading,style:{width:157,marginBottom:10},type:\"submit\",className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPlus,style:{marginRight:5}}),\"Crea Pasto\"]})})]})]})})})})});}","map":{"version":3,"names":["React","useEffect","useState","Alert","Button","Card","Form","useNavigate","Container","NewMealImg","SyncLoader","addMeal","clearArray","MealSections","useAuth","scrollToTop","MealAnalysisModal","FontAwesomeIcon","faAngleLeft","faPlus","axios","urlEncoded","LinkContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NewMeal","currentUser","disabled","warning","setWarning","error","setError","loading","setLoading","progress","setProgress","navigate","mealNameRegex","showModal","setShowModal","food","setFood","userInput","setUserInput","showDetails","setShowDetails","nutrients","kcals","proteins","fats","carbohydrates","formData","setFormData","email_nutrizionista","email","data_inserimento","nome","preparazione","colazione","pranzo","spuntino","cena","handleSubmit","e","preventDefault","then","r","console","log","state","replace","catch","finally","handleSubmitAnalysis","value","test","undefined","req","q","source","target","post","response","split","data","translatedText","forEach","ingredient","stringify","get","concat","res","push","totalNutrientsKCal","PROCNT_KCAL","CHOCDF_KCAL","FAT_KCAL","ENERC_KCAL","length","children","className","style","background","backgroundSize","minHeight","padding","marginTop","marginBottom","borderRadius","boxShadow","borderLeft","borderTop","fontFamily","marginLeft","to","height","width","variant","icon","color","src","marginRight","alt","margin","dismissible","onClose","position","top","left","transform","zIndex","onSubmit","type"],"sources":["/Users/angelamariaselvaggi/Desktop/unimeri/Tesi/Applicazione/APP MERI/src/Components/Meals/NewMeal.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Alert, Button, Card, Form} from \"react-bootstrap\";\nimport {useNavigate} from \"react-router-dom\";\nimport Container from \"react-bootstrap/Container\";\nimport NewMealImg from \"../../img/showMealImg.svg\";\nimport {SyncLoader} from \"react-spinners\";\nimport {addMeal, clearArray} from \"../../context/MealContext\";\nimport MealSections from \"./MealSections\";\nimport {useAuth} from \"../../context/AuthContext\";\nimport {scrollToTop} from \"../helpers/scroll\";\nimport MealAnalysisModal from \"./MealAnalysisModal\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faAngleLeft, faPlus} from \"@fortawesome/free-solid-svg-icons\";\nimport axios from \"axios\";\nimport {urlEncoded} from \"../../context/DietContext\";\nimport {LinkContainer} from \"react-router-bootstrap\";\n\nexport default function NewMeal() {\n    const {currentUser} = useAuth();\n    const [disabled] = useState(false);\n    const [warning, setWarning] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [progress, setProgress] = useState(false);\n    const navigate = useNavigate();\n    const mealNameRegex = /^([a-z\\s]+\\d+[a-z\\s]+,)*([a-z\\s]+\\d+[a-z\\s]+){1}$/;\n    const [showModal, setShowModal] = useState(false);\n    const [food, setFood] = useState([\"\"]);\n    const [userInput, setUserInput] = useState([\"\"]);\n    const [showDetails, setShowDetails] = useState(false);\n    const [nutrients] = useState([]);\n    const [kcals] = useState([]);\n    const [proteins] = useState([]);\n    const [fats] = useState([]);\n    const [carbohydrates] = useState([]);\n\n\n    const [formData, setFormData] = useState({\n        email_nutrizionista: currentUser.email,\n        data_inserimento: \"\",\n        nome: \"\",\n        preparazione: \"\",\n        colazione: false,\n        pranzo: false,\n        spuntino: false,\n        cena: false\n    });\n\n    //Ad ogni caricamento la pagina effettua uno scroll fino al suo inizio\n    useEffect(() => {\n        scrollToTop();\n    }, []);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        setProgress(true);\n        setLoading(true);\n\n        /*if (!mealNameRegex.test(formData.nome)) {\n         setProgress(false);\n         setLoading(false);\n         scrollToTop();\n         return setError(\"Il titolo del pasto deve contenere il nome dell'ingrediente e la sua quantità, in caso di più ingredienti questi devono essere separati da una virgola: es. pane 50 gr, petto di pollo 80 gr\");\n         }*/\n\n        if (formData.colazione === false && formData.pranzo === false &&\n            formData.spuntino === false && formData.cena === false) {\n            setProgress(false);\n            setLoading(false);\n            scrollToTop();\n            return setError(\"Per poter creare il pasto devi prima selezionare una categoria!\");\n        }\n\n        addMeal(formData)\n            .then(r => {\n                console.log(\"Pasto creato correttamente\");\n                setProgress(false);\n                setLoading(false);\n                //L'utente viene indirizzato alla pagina che visualizza l'elenco dei pasti creati\n                navigate(\"/pasti\", {state: \"success-create\", replace: true});\n            })\n            .catch(error => console.error(error)).finally(() => {\n            setProgress(false);\n            setLoading(false);\n        });\n    }\n\n    /*\n     Funzione per l'analisi del pasto in input\n     L'analisi viene effettuata sfruttando le API offerte da EDAMAM (https://developer.edamam.com/edamam-nutrition-api)\n     */\n    const handleSubmitAnalysis = async (e, value) => {\n        e.preventDefault();\n        setWarning(\"\");\n\n        if (!mealNameRegex.test(formData.nome)) {\n            setProgress(false);\n            setLoading(false);\n            scrollToTop();\n            return setWarning(\"Per poter eseguire l'analisi il titolo del pasto deve contenere il nome dell'ingrediente e la sua quantità, in caso di più ingredienti questi devono essere separati da una virgola: es. pane 50 gr, petto di pollo 80 gr\");\n        }\n\n        if (value !== \"\" && value !== undefined) {\n            //Inizializzo gli array per una nuova ricerca\n            clearArray(nutrients);\n            clearArray(kcals);\n            clearArray(proteins);\n            clearArray(carbohydrates);\n            clearArray(fats);\n\n            setProgress(true);\n            setLoading(true);\n            const req = {\n                q: value,\n                source: \"it\",\n                target: \"en\"\n            };\n            axios.post(`https://translate.argosopentech.com/translate`, req).then((response) => {\n                setFood(value);\n                setUserInput(value.split(\",\"));\n                response.data.translatedText.split(\",\").forEach((ingredient) => {\n                    let stringify = urlEncoded(ingredient);\n                    axios.get(`https://api.edamam.com/api/nutrition-data?app_id=b92c2025&app_key=e1942e617a37552b845d1db4d36d9522&ingr=${stringify}`)\n                         .then((res) => {\n                             nutrients.push(res.data.totalNutrientsKCal);\n                             proteins.push(res.data.totalNutrientsKCal.PROCNT_KCAL);\n                             carbohydrates.push(res.data.totalNutrientsKCal.CHOCDF_KCAL);\n                             fats.push(res.data.totalNutrientsKCal.FAT_KCAL);\n                             kcals.push(res.data.totalNutrientsKCal.ENERC_KCAL);\n\n                             if (nutrients.length === value.split(\",\").length) {\n                                 setProgress(false);\n                             }\n                         });\n                });\n            });\n            setShowModal(true);\n        } else {\n            setWarning(\"Per poter effettuare la ricerca inserisci prima un pasto nel formato richiesto: \\nes. pane 50 gr, petto di pollo 80 gr\");\n        }\n    };\n\n\n    return (\n        <>\n            <Container className={\"modal-fullscreen\"}\n                       style={{\n                           background: \"linear-gradient(123deg, rgba(247,209,98,1) 30%, rgba(251,149,96,1) 50%, rgba(254,88,94,1) 70%)\",\n                           backgroundSize: \"cover\",\n                           minHeight: \"inherit\",\n                           padding: 0\n                       }}>\n                <Container className={\"modal-fullscreen text-center\"}>\n                    <Container className={\"d-flex flex-column mx-auto my-auto\"}\n                               style={{minHeight: 450, marginTop: 20}}>\n                        <Card className={\"col-12 mx-auto\"}\n                              style={{\n                                  marginTop: 20,\n                                  marginBottom: 20,\n                                  borderRadius: 16,\n                                  boxShadow: \"10px 10px 10px rgba(30,30,30,0.5)\",\n                                  borderLeft: \"solid 1px rgba(255,255,255,0.8)\",\n                                  borderTop: \"solid 1px rgba(255,255,255,0.8)\"\n                              }}>\n                            <h2 style={{fontFamily: \"Arial\", marginTop: 10}}>\n                                <div className={\"d-flex my-auto col-12\"}>\n                                    <div className={\"col-12\"}>\n                                        <div className={\"float-start\"}\n                                             style={{marginTop: 10, marginLeft: 20}}>\n                                            <LinkContainer to=\"/pasti\"\n                                                           className={\"my-auto\"}>\n                                                <Button style={{height: 40, width: 100}}\n                                                        variant={\"warning\"}\n                                                ><FontAwesomeIcon icon={faAngleLeft}\n                                                                  color={\"black\"}/></Button>\n                                            </LinkContainer>\n                                        </div>\n                                    </div>\n                                </div>\n                                <Container\n                                    className={\"d-flex justify-content-center my-auto align-items-center col-12\"}>\n                                    <img src={NewMealImg}\n                                         style={{height: 70, width: 70, marginRight: 10}}\n                                         alt={\"Nuovo pasto\"}/>\n                                    <p className={\"my-auto\"}\n                                       style={{margin: 0}}>Creazione Pasto</p>\n                                </Container>\n                            </h2>\n                            {error && <Alert className={\"mx-auto col-10 flex-wrap\"}\n                                             variant=\"danger\"\n                                             dismissible={true}\n                                             onClose={() => setError(\"\")}>{error}</Alert>}\n                            {warning && <Alert className={\"mx-auto col-10 flex-wrap\"}\n                                               variant=\"warning\"\n                                               dismissible={true}\n                                               onClose={() => setWarning(\"\")}>{warning}</Alert>}\n                            <SyncLoader color=\"#eb6164\"\n                                        loading={progress}\n                                        style={{\n                                            position: \"absolute\",\n                                            top: \"50%\",\n                                            left: \"50%\",\n                                            transform: \"translate(-50%, -50%)\",\n                                            zIndex: 1\n                                        }}/>\n                            {nutrients.length > 0 && (\n                                <MealAnalysisModal\n                                    showModal={showModal}\n                                    setShowModal={setShowModal}\n                                    showDetails={showDetails}\n                                    setShowDetails={setShowDetails}\n                                    loading={loading}\n                                    userInput={userInput}\n                                    food={food}\n                                    nutrients={nutrients}\n                                    kcals={kcals}\n                                    proteins={proteins}\n                                    fats={fats}\n                                    carbohydrates={carbohydrates}\n                                />\n                            )}\n                            <Form onSubmit={handleSubmit}\n                                  className={\"d-flex flex-column\"}>\n                                <MealSections formData={formData}\n                                              setFormData={setFormData}\n                                              disabled={disabled}\n                                />\n                                <Container className={\"d-flex flex-wrap justify-content-evenly\"}\n                                           style={{marginBottom: 20, marginTop: 20}}>\n                                    {/*<Button variant=\"secondary\"\n                                     style={{width: 157, marginBottom: 10}}\n                                     onClick={(e) => handleSubmitAnalysis(e, formData.nome)}><FontAwesomeIcon\n                                     icon={faChartSimple}\n                                     style={{marginRight: 5}}/>Analizza Pasto</Button>*/}\n                                    <button disabled={loading}\n                                            style={{width: 157, marginBottom: 10}}\n                                            type=\"submit\"\n                                            className=\"btn btn-primary\"><FontAwesomeIcon\n                                        icon={faPlus}\n                                        style={{marginRight: 5}}/>Crea Pasto\n                                    </button>\n                                </Container>\n                            </Form>\n                        </Card>\n                    </Container>\n                </Container>\n            </Container>\n        </>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
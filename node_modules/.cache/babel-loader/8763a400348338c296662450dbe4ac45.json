{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{Alert,Button,Card,FloatingLabel,Form}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import{auth}from\"../../config/firebase-config.js\";import Container from\"react-bootstrap/Container\";import{scrollToTop}from\"../helpers/scroll\";import{LinkContainer}from\"react-router-bootstrap\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faAngleLeft}from\"@fortawesome/free-solid-svg-icons\";/*\n Funzione che si occupa del reset della password a partire dall'email associata all'account\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ForgotPassword(){const emailRef=useRef();const[error,setError]=useState(\"\");const[success,setSuccess]=useState(\"\");const[loading,setLoading]=useState(false);const[showDangerAlert,setshowDangerAlert]=useState(false);//Ad ogni caricamento la pagina effettua uno scroll fino al suo inizio\nuseEffect(()=>{scrollToTop();},[]);async function handleSubmit(e){e.preventDefault();setSuccess(\"\");setError(\"\");setshowDangerAlert(false);setLoading(true);await auth.sendPasswordResetEmail(emailRef.current.value).then(()=>{setSuccess(\"Controlla la tua casella di posta: ti abbiamo inviato un link per il reset della password\");setLoading(false);}).catch(error=>{setError(\"L'email inserita non è associata ad un account esistente\");setshowDangerAlert(true);setLoading(false);});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{className:\"modal-fullscreen\",style:{background:\"linear-gradient(123deg, rgba(247,209,98,1) 30%, rgba(251,149,96,1) 50%, rgba(254,88,94,1) 70%)\",backgroundSize:\"cover\",minHeight:\"inherit\",padding:0},children:/*#__PURE__*/_jsx(Container,{className:\"modal-fullscreen text-center\",children:/*#__PURE__*/_jsxs(Container,{className:\"d-flex flex-column mx-auto my-auto\",style:{maxWidth:800,minHeight:450,marginTop:20},children:[/*#__PURE__*/_jsx(Alert,{className:\"mx-auto\",show:showDangerAlert,variant:\"danger\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:error})}),success&&/*#__PURE__*/_jsx(Alert,{className:\"mx-auto col-10 flex-wrap\",variant:\"primary\",style:{margin:30},children:success}),/*#__PURE__*/_jsx(Card,{className:\"col-12 col-sm-10 col-lg-12 mx-auto\",style:{marginTop:20,marginBottom:20,borderRadius:16,boxShadow:\"10px 10px 10px rgba(30,30,30,0.5)\",borderLeft:\"solid 1px rgba(255,255,255,0.8)\",borderTop:\"solid 1px rgba(255,255,255,0.8)\"},children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex my-auto col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"float-start\",style:{marginTop:10,marginLeft:20},children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/\",className:\"my-auto\",children:/*#__PURE__*/_jsx(Button,{style:{height:40,width:100},variant:\"warning\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAngleLeft,color:\"black\"})})})})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"fw-normal mb-4\",style:{fontFamily:\"Arial\"},children:\"Resetta password\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,className:\"d-flex flex-wrap justify-content-evenly\",children:[/*#__PURE__*/_jsx(Form.Group,{id:\"email\",style:{marginBottom:15,padding:5},className:\"col-10\",children:/*#__PURE__*/_jsx(FloatingLabel,{controlId:\"floatingInputGrid\",label:\"Email\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"email\",ref:emailRef,required:true,placeholder:\"name@example.com\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid-4 gap-2 mt-3\",children:/*#__PURE__*/_jsx(\"button\",{disabled:loading,type:\"submit\",className:\"btn btn-primary\",children:\"Resetta password\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 align-text-bottom mt-3\",children:[\"Devi creare un nuovo account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Registrati\"})]})]})})]})})})});}","map":{"version":3,"names":["React","useEffect","useRef","useState","Alert","Button","Card","FloatingLabel","Form","Link","auth","Container","scrollToTop","LinkContainer","FontAwesomeIcon","faAngleLeft","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ForgotPassword","emailRef","error","setError","success","setSuccess","loading","setLoading","showDangerAlert","setshowDangerAlert","handleSubmit","e","preventDefault","sendPasswordResetEmail","current","value","then","catch","children","className","style","background","backgroundSize","minHeight","padding","maxWidth","marginTop","show","variant","margin","marginBottom","borderRadius","boxShadow","borderLeft","borderTop","Body","marginLeft","to","height","width","icon","color","fontFamily","onSubmit","Group","id","controlId","label","Control","type","ref","required","placeholder","disabled"],"sources":["/Users/angelamariaselvaggi/Desktop/unimeri/Tesi/Applicazione/APP MERI/src/Components/Authentication/ForgotPassword.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\nimport {Alert, Button, Card, FloatingLabel, Form} from \"react-bootstrap\";\nimport {Link} from \"react-router-dom\";\nimport {auth} from \"../../config/firebase-config.js\";\nimport Container from \"react-bootstrap/Container\";\nimport {scrollToTop} from \"../helpers/scroll\";\nimport {LinkContainer} from \"react-router-bootstrap\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faAngleLeft} from \"@fortawesome/free-solid-svg-icons\";\n\n/*\n Funzione che si occupa del reset della password a partire dall'email associata all'account\n */\nexport default function ForgotPassword() {\n    const emailRef = useRef();\n    const [error, setError] = useState(\"\");\n    const [success, setSuccess] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [showDangerAlert, setshowDangerAlert] = useState(false);\n\n    //Ad ogni caricamento la pagina effettua uno scroll fino al suo inizio\n    useEffect(() => {\n        scrollToTop();\n    }, []);\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n        setSuccess(\"\");\n        setError(\"\");\n        setshowDangerAlert(false);\n        setLoading(true);\n        await auth.sendPasswordResetEmail(emailRef.current.value).then(() => {\n            setSuccess(\"Controlla la tua casella di posta: ti abbiamo inviato un link per il reset della password\");\n            setLoading(false);\n        }).catch((error) => {\n            setError(\"L'email inserita non è associata ad un account esistente\");\n            setshowDangerAlert(true);\n            setLoading(false);\n        });\n    }\n\n    return (\n        <>\n            <Container className={\"modal-fullscreen\"}\n                       style={{\n                           background: \"linear-gradient(123deg, rgba(247,209,98,1) 30%, rgba(251,149,96,1) 50%, rgba(254,88,94,1) 70%)\",\n                           backgroundSize: \"cover\",\n                           minHeight: \"inherit\",\n                           padding: 0\n                       }}>\n                <Container className={\"modal-fullscreen text-center\"}>\n                    <Container className={\"d-flex flex-column mx-auto my-auto\"}\n                               style={{maxWidth: 800, minHeight: 450, marginTop: 20}}>\n                        <Alert className={\"mx-auto\"}\n                               show={showDangerAlert}\n                               variant=\"danger\">\n                            <p className=\"mb-0\">\n                                {error}\n                            </p>\n                        </Alert>\n                        {success && <Alert className={\"mx-auto col-10 flex-wrap\"}\n                                           variant={\"primary\"}\n                                           style={{margin: 30}}>{success}</Alert>}\n                        <Card className={\"col-12 col-sm-10 col-lg-12 mx-auto\"}\n                              style={{\n                                  marginTop: 20,\n                                  marginBottom: 20,\n                                  borderRadius: 16,\n                                  boxShadow: \"10px 10px 10px rgba(30,30,30,0.5)\",\n                                  borderLeft: \"solid 1px rgba(255,255,255,0.8)\",\n                                  borderTop: \"solid 1px rgba(255,255,255,0.8)\"\n                              }}>\n                            <Card.Body>\n                                <div className={\"d-flex my-auto col-12\"}>\n                                    <div className={\"col-12\"}>\n                                        <div className={\"float-start\"}\n                                             style={{marginTop: 10, marginLeft: 20}}>\n                                            <LinkContainer to=\"/\"\n                                                           className={\"my-auto\"}>\n                                                <Button style={{height: 40, width: 100}}\n                                                        variant={\"warning\"}\n                                                ><FontAwesomeIcon icon={faAngleLeft}\n                                                                  color={\"black\"}/></Button>\n                                            </LinkContainer>\n                                        </div>\n                                    </div>\n                                </div>\n                                <h2 className=\"fw-normal mb-4\"\n                                    style={{fontFamily: \"Arial\"}}>Resetta password</h2>\n                                <Form onSubmit={handleSubmit}\n                                      className={\"d-flex flex-wrap justify-content-evenly\"}>\n                                    <Form.Group id=\"email\"\n                                                style={{marginBottom: 15, padding: 5}}\n                                                className={\"col-10\"}>\n                                        <FloatingLabel controlId=\"floatingInputGrid\"\n                                                       label=\"Email\">\n                                            <Form.Control type=\"email\"\n                                                          ref={emailRef}\n                                                          required\n                                                          placeholder=\"name@example.com\"/>\n                                        </FloatingLabel>\n                                    </Form.Group>\n                                    <div className=\"d-grid-4 gap-2 mt-3\">\n                                        <button disabled={loading}\n                                                type=\"submit\"\n                                                className=\"btn btn-primary\">\n                                            Resetta password\n                                        </button>\n                                    </div>\n                                </Form>\n                                <div className=\"w-100 align-text-bottom mt-3\">\n                                    Devi creare un nuovo account? <Link to=\"/signup\">Registrati</Link>\n                                </div>\n                            </Card.Body>\n                        </Card>\n                    </Container>\n                </Container>\n            </Container>\n        </>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { collection, deleteDoc, doc, getDoc, serverTimestamp, setDoc, updateDoc, query, where, getDocs } from \"firebase/firestore\";\nimport { db } from \"../config/firebase-config\";\n\n/*\n Funzione che si occupa di memorizzare i dati di una dieta su Firestore Database\n */\nexport async function addDiet(formData, nutrizionista) {\n  formData.data_inserimento = serverTimestamp();\n  formData.email_nutrizionista = nutrizionista.email;\n  formData.numero_telefono_nutrizionista = nutrizionista.telefono;\n  formData.tipologia_dieta = nutrizionista.ruolo;\n  await setDoc(doc(collection(db, \"diets\")), formData);\n}\n\n/*\n Funzione che si occupa di aggiornare i dati di una dieta memorizzata su Firestore Database\n */\nexport async function updateDiet(formData, id) {\n  formData.data_inserimento = serverTimestamp();\n  await updateDoc(doc(db, \"diets\", id), formData);\n}\n\n/*\n Funzione che si occupa di aggiornare il numero di telefono del nutrizionista su Firestore Database\n */\nexport async function updateTelephone(formData, id) {\n  await updateDoc(doc(db, \"diets\", id), formData);\n}\n\n/*\n Funzione che si occupa di eliminare una dieta memorizzata su Firestore Database\n */\nexport async function deleteDiet(id) {\n  await deleteDoc(doc(db, \"diets\", id));\n}\n\n/*\n Funzione che si occupa di ottenere i dati di una dieta memorizzata su Firestore Database\n */\nexport async function getDiet(id) {\n  const docRef = doc(db, \"diets\", id);\n  const docSnap = await getDoc(docRef);\n  if (docSnap.exists()) {\n    console.log(\"Documento letto correttamente \");\n    console.log(docSnap.data());\n    return docSnap.data();\n  } else {\n    console.log(\"Nessun documento trovato con il codice fiscale inserito!\");\n  }\n}\n\n/*\n Funzione che si occupa di codificare l'url della richiesta ricevuto il pasto in input\n */\nexport const urlEncoded = arr => {\n  const regex = /,/gi;\n  if (Array.isArray(arr)) {\n    return arr.join(\",\").replace(regex, \" and \");\n  } else {\n    return arr.split(\" \").join(\"%20\");\n  }\n};","map":{"version":3,"names":["collection","deleteDoc","doc","getDoc","serverTimestamp","setDoc","updateDoc","query","where","getDocs","db","addDiet","formData","nutrizionista","data_inserimento","email_nutrizionista","email","numero_telefono_nutrizionista","telefono","tipologia_dieta","ruolo","updateDiet","id","updateTelephone","deleteDiet","getDiet","docRef","docSnap","exists","console","log","data","urlEncoded","arr","regex","Array","isArray","join","replace","split"],"sources":["/Users/angelamariaselvaggi/Desktop/unimeri/Tesi/Applicazione/APP MERI/src/context/DietContext.js"],"sourcesContent":["import {collection, deleteDoc, doc, getDoc, serverTimestamp, setDoc, updateDoc, query, where, getDocs} from \"firebase/firestore\";\nimport {db} from \"../config/firebase-config\";\n\n\n/*\n Funzione che si occupa di memorizzare i dati di una dieta su Firestore Database\n */\nexport async function addDiet(formData, nutrizionista) {\n    formData.data_inserimento = serverTimestamp();\n    formData.email_nutrizionista = nutrizionista.email;\n    formData.numero_telefono_nutrizionista = nutrizionista.telefono;\n    formData.tipologia_dieta = nutrizionista.ruolo;\n    await setDoc(doc(collection(db, \"diets\")), formData);\n}\n\n/*\n Funzione che si occupa di aggiornare i dati di una dieta memorizzata su Firestore Database\n */\nexport async function updateDiet(formData, id) {\n    formData.data_inserimento = serverTimestamp();\n    await updateDoc(doc(db, \"diets\", id), formData);\n}\n\n/*\n Funzione che si occupa di aggiornare il numero di telefono del nutrizionista su Firestore Database\n */\nexport async function updateTelephone(formData, id) {\n    await updateDoc(doc(db, \"diets\", id), formData);\n}\n\n/*\n Funzione che si occupa di eliminare una dieta memorizzata su Firestore Database\n */\nexport async function deleteDiet(id) {\n    await deleteDoc(doc(db, \"diets\", id));\n}\n\n/*\n Funzione che si occupa di ottenere i dati di una dieta memorizzata su Firestore Database\n */\nexport async function getDiet(id) {\n    const docRef = doc(db, \"diets\", id);\n    const docSnap = await getDoc(docRef);\n    if (docSnap.exists()) {\n        console.log(\"Documento letto correttamente \");\n        console.log(docSnap.data());\n        return docSnap.data();\n    } else {\n        console.log((\"Nessun documento trovato con il codice fiscale inserito!\"));\n    }\n}\n\n/*\n Funzione che si occupa di codificare l'url della richiesta ricevuto il pasto in input\n */\nexport const urlEncoded = arr => {\n    const regex = /,/gi;\n    if (Array.isArray(arr)) {\n        return arr.join(\",\").replace(regex, \" and \");\n    } else {\n        return arr.split(\" \").join(\"%20\");\n    }\n};\n"],"mappings":"AAAA,SAAQA,UAAU,EAAEC,SAAS,EAAEC,GAAG,EAAEC,MAAM,EAAEC,eAAe,EAAEC,MAAM,EAAEC,SAAS,EAAEC,KAAK,EAAEC,KAAK,EAAEC,OAAO,QAAO,oBAAoB;AAChI,SAAQC,EAAE,QAAO,2BAA2B;;AAG5C;AACA;AACA;AACA,OAAO,eAAeC,OAAOA,CAACC,QAAQ,EAAEC,aAAa,EAAE;EACnDD,QAAQ,CAACE,gBAAgB,GAAGV,eAAe,CAAC,CAAC;EAC7CQ,QAAQ,CAACG,mBAAmB,GAAGF,aAAa,CAACG,KAAK;EAClDJ,QAAQ,CAACK,6BAA6B,GAAGJ,aAAa,CAACK,QAAQ;EAC/DN,QAAQ,CAACO,eAAe,GAAGN,aAAa,CAACO,KAAK;EAC9C,MAAMf,MAAM,CAACH,GAAG,CAACF,UAAU,CAACU,EAAE,EAAE,OAAO,CAAC,CAAC,EAAEE,QAAQ,CAAC;AACxD;;AAEA;AACA;AACA;AACA,OAAO,eAAeS,UAAUA,CAACT,QAAQ,EAAEU,EAAE,EAAE;EAC3CV,QAAQ,CAACE,gBAAgB,GAAGV,eAAe,CAAC,CAAC;EAC7C,MAAME,SAAS,CAACJ,GAAG,CAACQ,EAAE,EAAE,OAAO,EAAEY,EAAE,CAAC,EAAEV,QAAQ,CAAC;AACnD;;AAEA;AACA;AACA;AACA,OAAO,eAAeW,eAAeA,CAACX,QAAQ,EAAEU,EAAE,EAAE;EAChD,MAAMhB,SAAS,CAACJ,GAAG,CAACQ,EAAE,EAAE,OAAO,EAAEY,EAAE,CAAC,EAAEV,QAAQ,CAAC;AACnD;;AAEA;AACA;AACA;AACA,OAAO,eAAeY,UAAUA,CAACF,EAAE,EAAE;EACjC,MAAMrB,SAAS,CAACC,GAAG,CAACQ,EAAE,EAAE,OAAO,EAAEY,EAAE,CAAC,CAAC;AACzC;;AAEA;AACA;AACA;AACA,OAAO,eAAeG,OAAOA,CAACH,EAAE,EAAE;EAC9B,MAAMI,MAAM,GAAGxB,GAAG,CAACQ,EAAE,EAAE,OAAO,EAAEY,EAAE,CAAC;EACnC,MAAMK,OAAO,GAAG,MAAMxB,MAAM,CAACuB,MAAM,CAAC;EACpC,IAAIC,OAAO,CAACC,MAAM,CAAC,CAAC,EAAE;IAClBC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;IAC7CD,OAAO,CAACC,GAAG,CAACH,OAAO,CAACI,IAAI,CAAC,CAAC,CAAC;IAC3B,OAAOJ,OAAO,CAACI,IAAI,CAAC,CAAC;EACzB,CAAC,MAAM;IACHF,OAAO,CAACC,GAAG,CAAE,0DAA2D,CAAC;EAC7E;AACJ;;AAEA;AACA;AACA;AACA,OAAO,MAAME,UAAU,GAAGC,GAAG,IAAI;EAC7B,MAAMC,KAAK,GAAG,KAAK;EACnB,IAAIC,KAAK,CAACC,OAAO,CAACH,GAAG,CAAC,EAAE;IACpB,OAAOA,GAAG,CAACI,IAAI,CAAC,GAAG,CAAC,CAACC,OAAO,CAACJ,KAAK,EAAE,OAAO,CAAC;EAChD,CAAC,MAAM;IACH,OAAOD,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC,KAAK,CAAC;EACrC;AACJ,CAAC"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import React,{useContext,useEffect,useState}from\"react\";import{auth}from\"../config/firebase-config.js\";import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/React.createContext();export function useAuth(){return useContext(AuthContext);}export function AuthProvider(_ref){let{children}=_ref;const[currentUser,setCurrentUser]=useState();const[loading,setLoading]=useState(true);/* useEffect(() => {\n        return auth.onAuthStateChanged((user) => {\n            setCurrentUser(user);\n            setLoading(false);\n        });\n    }, []); */useEffect(()=>{const unsubscribe=auth.onAuthStateChanged(user=>{setCurrentUser(user);setLoading(false);});return()=>unsubscribe();// Cleanup della sottoscrizione\n},[]);const value={currentUser};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:value,children:!loading&&children});}","map":{"version":3,"names":["React","useContext","useEffect","useState","auth","jsx","_jsx","AuthContext","createContext","useAuth","AuthProvider","_ref","children","currentUser","setCurrentUser","loading","setLoading","unsubscribe","onAuthStateChanged","user","value","Provider"],"sources":["/Users/angelamariaselvaggi/Desktop/unimeri/Tesi/Applicazione/APP MERI/src/context/AuthContext.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from \"react\";\nimport {auth} from \"../config/firebase-config.js\";\n\nconst AuthContext = React.createContext();\n\nexport function useAuth() {\n    return useContext(AuthContext);\n}\n\nexport function AuthProvider({children}) {\n    const [currentUser, setCurrentUser] = useState();\n    const [loading, setLoading] = useState(true);\n\n   /* useEffect(() => {\n        return auth.onAuthStateChanged((user) => {\n            setCurrentUser(user);\n            setLoading(false);\n        });\n    }, []); */\n    useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n        setCurrentUser(user);\n        setLoading(false);\n      });\n  \n      return () => unsubscribe(); // Cleanup della sottoscrizione\n    }, []);\n    const value = {\n        currentUser\n    };\n\n    return (\n        <AuthContext.Provider value={value}>\n            {!loading && children}\n        </AuthContext.Provider>\n    );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAC5D,OAAQC,IAAI,KAAO,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElD,KAAM,CAAAC,WAAW,cAAGP,KAAK,CAACQ,aAAa,CAAC,CAAC,CAEzC,MAAO,SAAS,CAAAC,OAAOA,CAAA,CAAG,CACtB,MAAO,CAAAR,UAAU,CAACM,WAAW,CAAC,CAClC,CAEA,MAAO,SAAS,CAAAG,YAAYA,CAAAC,IAAA,CAAa,IAAZ,CAACC,QAAQ,CAAC,CAAAD,IAAA,CACnC,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAC,CAAC,CAChD,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAE7C;AACH;AACA;AACA;AACA;AACA,cACID,SAAS,CAAC,IAAM,CAChB,KAAM,CAAAe,WAAW,CAAGb,IAAI,CAACc,kBAAkB,CAAEC,IAAI,EAAK,CAClDL,cAAc,CAACK,IAAI,CAAC,CACpBH,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CAEF,MAAO,IAAMC,WAAW,CAAC,CAAC,CAAE;AAC9B,CAAC,CAAE,EAAE,CAAC,CACN,KAAM,CAAAG,KAAK,CAAG,CACVP,WACJ,CAAC,CAED,mBACIP,IAAA,CAACC,WAAW,CAACc,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAAR,QAAA,CAC9B,CAACG,OAAO,EAAIH,QAAQ,CACH,CAAC,CAE/B"},"metadata":{},"sourceType":"module"}
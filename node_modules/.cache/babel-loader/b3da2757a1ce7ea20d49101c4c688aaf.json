{"ast":null,"code":"var _jsxFileName = \"/Users/angelamariaselvaggi/Desktop/unimeri/Tesi/Applicazione/APP MERI/src/Components/Meals/MealAnalysis.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Button, Card, Col, Form, InputGroup, Navbar, Row } from \"react-bootstrap\";\nimport Container from \"react-bootstrap/Container\";\nimport ShowMealsImg from \"../../img/showMealsImg.svg\";\nimport { SyncLoader } from \"react-spinners\";\nimport MealAnalysisPreview from \"./MealAnalysisPreview\";\nimport PieChart from \"react-pie-graph-chart\";\nimport { faEyeSlash, faMagnifyingGlass } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { urlEncoded } from \"../../context/DietContext\";\nimport { scrollToTop } from \"../helpers/scroll\";\nimport { sumArrayObject } from \"sum-any\";\nimport { clearArray } from \"../../context/MealContext\";\n\n/*\n Funzione che si occupa di eseguire l'analisi di un pasto dato in input dall'utente\n L'analisi viene effettuata sfruttando le API offerte da EDAMAM (https://developer.edamam.com/edamam-nutrition-api)\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MealAnalysis() {\n  _s();\n  const [warning, setWarning] = useState(\"\");\n  const [progress, setProgress] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [food, setFood] = useState(\"\");\n  const [nutrients] = useState([]);\n  const [kcals] = useState([]);\n  const [proteins] = useState([]);\n  const [fats] = useState([]);\n  const [carbohydrates] = useState([]);\n  const [userInput, setUserInput] = useState([]);\n  const [showDetails, setShowDetails] = useState(false);\n  const mealNameRegex = /^([a-z\\s]+\\d+[a-z\\s]+,)*([a-z\\s]+\\d+[a-z\\s]+){1}$/;\n  const cardBackgroundColor = {\n    background: \"#FFEAD3\"\n  };\n\n  //Ad ogni caricamento la pagina effettua uno scroll fino al suo inizio\n  useEffect(() => {\n    scrollToTop();\n  }, []);\n\n  /*\n   Funzione per l'analisi del pasto in input\n   L'analisi viene effettuata sfruttando le API offerte da EDAMAM (https://developer.edamam.com/edamam-nutrition-api)\n   La traduzione dell'input dell'utente, da italiano ad inglese, viene effettuata sfruttando le API offerte da LIBRETRANSLATE (https://libretranslate.de/)\n   */\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setWarning(\"\");\n    if (!mealNameRegex.test(food)) {\n      setProgress(false);\n      setLoading(false);\n      scrollToTop();\n      return setWarning(\"Per poter eseguire l'analisi il titolo del pasto deve contenere il nome dell'ingrediente e la sua quantità, in caso di più ingredienti questi devono essere separati da una virgola: es. pane 50 gr, petto di pollo 80 gr\");\n    }\n    if (food !== \"\") {\n      //Inizializzo gli array per una nuova ricerca\n      clearArray(nutrients);\n      clearArray(kcals);\n      clearArray(proteins);\n      clearArray(carbohydrates);\n      clearArray(fats);\n      setProgress(true);\n      setLoading(true);\n      const req = {\n        q: food,\n        source: \"it\",\n        target: \"en\"\n      };\n      axios.post(`https://translate.argosopentech.com/translate`, req).then(response => {\n        setUserInput(food.split(\",\"));\n        response.data.translatedText.split(\",\").forEach(ingredient => {\n          let stringify = urlEncoded(ingredient);\n          axios.get(`https://api.edamam.com/api/nutrition-data?app_id=b92c2025&app_key=e1942e617a37552b845d1db4d36d9522&ingr=${stringify}`).then(res => {\n            nutrients.push(res.data.totalNutrientsKCal);\n            proteins.push(res.data.totalNutrientsKCal.PROCNT_KCAL);\n            carbohydrates.push(res.data.totalNutrientsKCal.CHOCDF_KCAL);\n            fats.push(res.data.totalNutrientsKCal.FAT_KCAL);\n            kcals.push(res.data.totalNutrientsKCal.ENERC_KCAL);\n            if (nutrients.length === food.split(\",\").length) {\n              setProgress(false);\n              setLoading(false);\n            }\n          });\n        });\n      });\n    } else {\n      setWarning(\"Per poter effettuare la ricerca inserisci prima un pasto nel formato richiesto: \\nes. pane 50 gr, petto di pollo 80 gr\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      className: \"modal-fullscreen\",\n      style: {\n        background: \"linear-gradient(123deg, rgba(247,209,98,1) 30%, rgba(251,149,96,1) 50%, rgba(254,88,94,1) 70%)\",\n        backgroundSize: \"cover\",\n        minHeight: \"inherit\",\n        padding: 0\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: \"modal-fullscreen text-center\",\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          className: \"d-flex flex-column mx-auto my-auto\",\n          style: {\n            minHeight: 450,\n            marginTop: 20\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"col-12 col-md-10 mx-auto\",\n            style: {\n              marginTop: 20,\n              marginBottom: 20,\n              borderRadius: 16,\n              boxShadow: \"10px 10px 10px rgba(30,30,30,0.5)\",\n              borderLeft: \"solid 1px rgba(255,255,255,0.8)\",\n              borderTop: \"solid 1px rgba(255,255,255,0.8)\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(SyncLoader, {\n              color: \"#eb6164\",\n              loading: progress,\n              style: {\n                position: \"absolute\",\n                top: \"50%\",\n                left: \"50%\",\n                transform: \"translate(-50%, -50%)\",\n                zIndex: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card, {\n              className: \"col-11 col-lg-11 mx-auto\",\n              style: {\n                marginTop: 20,\n                marginBottom: 20\n              },\n              children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                style: cardBackgroundColor,\n                className: \"text-start\",\n                as: \"h5\",\n                children: \"Analisi pasto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [warning && /*#__PURE__*/_jsxDEV(Alert, {\n                  style: {\n                    margin: 20\n                  },\n                  variant: \"warning\",\n                  children: warning\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Container, {\n                      className: \"d-flex justify-content-center my-auto align-items-center col-12\",\n                      style: {\n                        padding: 0\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: ShowMealsImg,\n                        id: \"ShowMealsImg\",\n                        style: {\n                          height: 200,\n                          width: 200,\n                          marginRight: 10\n                        },\n                        alt: \"Pasti\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 142,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 139,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: \"Inserisci un pasto per ottenere subito informazioni riguardo ai macronutrienti e ai valori calorici degli ingredienti in esso contenuti:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Navbar, {\n                      expand: \"lg\",\n                      children: /*#__PURE__*/_jsxDEV(Container, {\n                        className: \"d-flex flex-wrap justify-content-evenly col-12 col-sm-10 gap-2\",\n                        children: [/*#__PURE__*/_jsxDEV(Container, {\n                          style: {\n                            marginBottom: 15,\n                            padding: 5\n                          },\n                          className: \"col-12 col-sm-8 my-auto\",\n                          children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                            style: {\n                              marginTop: 10\n                            },\n                            className: \"my-auto\",\n                            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                              type: \"search\",\n                              placeholder: \"es. pane 50 gr, petto di pollo 80 gr\",\n                              \"aria-label\": \"Search\",\n                              value: food,\n                              onChange: e => setFood(e.target.value)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 158,\n                              columnNumber: 61\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 156,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 154,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(Container, {\n                          className: \"col-12 col-sm-2 my-auto mx-auto\",\n                          children: /*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"outline-danger\",\n                            className: \"flex-wrap\",\n                            onClick: handleSubmit,\n                            children: \"Analizza\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 168,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 167,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 45\n                    }, this), !loading ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(\"small\", {\n                      style: {\n                        color: \"grey\",\n                        verticalAlign: \"bottom\"\n                      },\n                      children: \"Inserisci gli ingredienti separandoli con la virgola\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 49\n                    }, this), progress ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) :\n                    /*#__PURE__*/\n                    //Ha finito di caricare i risultati della ricerca\n                    _jsxDEV(_Fragment, {\n                      children: [!loading && nutrients.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(Card, {\n                          className: \"col-10 mx-auto\",\n                          style: {\n                            padding: 0,\n                            marginTop: 15\n                          },\n                          children: /*#__PURE__*/_jsxDEV(Container, {\n                            style: {\n                              padding: 0\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                              className: \"text-center\",\n                              style: cardBackgroundColor,\n                              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                                children: \"Valori nutrizionali totali\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 187,\n                                columnNumber: 110\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 186,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                              children: /*#__PURE__*/_jsxDEV(Container, {\n                                className: \"col-12 my-auto\",\n                                style: {\n                                  marginLeft: 17\n                                },\n                                children: /*#__PURE__*/_jsxDEV(Row, {\n                                  className: \"d-flex flew-row col-12 justify-content-center\",\n                                  style: {\n                                    marginRight: 0\n                                  },\n                                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                      className: \"text-start\",\n                                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                                        children: \"Energia:\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 197,\n                                        columnNumber: 89\n                                      }, this)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 196,\n                                      columnNumber: 85\n                                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                      className: \"text-start\",\n                                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                                        children: [sumArrayObject(kcals, \"quantity\"), \" Kcal\"]\n                                      }, void 0, true, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 200,\n                                        columnNumber: 89\n                                      }, this)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 199,\n                                      columnNumber: 85\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 195,\n                                    columnNumber: 81\n                                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                      className: \"text-start\",\n                                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                                        children: \"Carboidrati:\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 205,\n                                        columnNumber: 89\n                                      }, this)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 204,\n                                      columnNumber: 85\n                                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                      className: \"text-start\",\n                                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                                        children: [sumArrayObject(carbohydrates, \"quantity\"), \" gr.\"]\n                                      }, void 0, true, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 208,\n                                        columnNumber: 89\n                                      }, this)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 207,\n                                      columnNumber: 85\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 203,\n                                    columnNumber: 81\n                                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                      className: \"text-start\",\n                                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                                        children: \"Grassi:\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 213,\n                                        columnNumber: 89\n                                      }, this)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 212,\n                                      columnNumber: 85\n                                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                      className: \"text-start\",\n                                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                                        children: [sumArrayObject(fats, \"quantity\"), \" gr.\"]\n                                      }, void 0, true, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 216,\n                                        columnNumber: 89\n                                      }, this)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 215,\n                                      columnNumber: 85\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 211,\n                                    columnNumber: 81\n                                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                      className: \"text-start\",\n                                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                                        children: \"Proteine:\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 221,\n                                        columnNumber: 89\n                                      }, this)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 220,\n                                      columnNumber: 85\n                                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                      className: \"text-start\",\n                                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                                        children: [sumArrayObject(proteins, \"quantity\"), \"gr.\"]\n                                      }, void 0, true, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 224,\n                                        columnNumber: 89\n                                      }, this)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 223,\n                                      columnNumber: 85\n                                    }, this)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 219,\n                                    columnNumber: 81\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 192,\n                                  columnNumber: 77\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 190,\n                                columnNumber: 73\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 189,\n                              columnNumber: 69\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 185,\n                            columnNumber: 65\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 183,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(PieChart, {\n                          data: [{\n                            type: \"Carboidrati\",\n                            value: sumArrayObject(carbohydrates, \"quantity\"),\n                            color: \"#fbd464\"\n                          }, {\n                            type: \"Grassi\",\n                            value: sumArrayObject(fats, \"quantity\"),\n                            color: \"#fb7270\"\n                          }, {\n                            type: \"Proteine\",\n                            value: sumArrayObject(proteins, \"quantity\"),\n                            color: \"#3897f1\"\n                          }]\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 232,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(Container, {\n                          children: [showDetails ? /*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"outline-secondary\",\n                            className: \"flex-wrap\",\n                            onClick: e => setShowDetails(false),\n                            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                              icon: faEyeSlash,\n                              style: {\n                                marginRight: 5\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 253,\n                              columnNumber: 119\n                            }, this), \"Nascondi dettagli\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 251,\n                            columnNumber: 72\n                          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"outline-secondary\",\n                            className: \"flex-wrap\",\n                            onClick: e => setShowDetails(true),\n                            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                              icon: faMagnifyingGlass,\n                              style: {\n                                marginRight: 5\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 259,\n                              columnNumber: 118\n                            }, this), \"Mostra dettagli\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 257,\n                            columnNumber: 72\n                          }, this), /*#__PURE__*/_jsxDEV(Container, {\n                            style: {\n                              marginTop: 20\n                            },\n                            children: showDetails && nutrients.map((item, index) => /*#__PURE__*/_jsxDEV(MealAnalysisPreview, {\n                              index: index,\n                              userInput: userInput,\n                              item: item\n                            }, index, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 266,\n                              columnNumber: 73\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 264,\n                            columnNumber: 65\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 249,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true), nutrients.length === 0 && !warning && loading === false ? /*#__PURE__*/_jsxDEV(Alert, {\n                        className: \"col-10 mx-auto\",\n                        variant: \"warning\",\n                        children: \"La ricerca non ha prodotto risultati\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 276,\n                        columnNumber: 57\n                      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n                    }, void 0, true)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(MealAnalysis, \"NONsNsrZMiLYAYUiv5g5E041N6I=\");\n_c = MealAnalysis;\nvar _c;\n$RefreshReg$(_c, \"MealAnalysis\");","map":{"version":3,"names":["React","useEffect","useState","axios","Alert","Button","Card","Col","Form","InputGroup","Navbar","Row","Container","ShowMealsImg","SyncLoader","MealAnalysisPreview","PieChart","faEyeSlash","faMagnifyingGlass","FontAwesomeIcon","urlEncoded","scrollToTop","sumArrayObject","clearArray","jsxDEV","_jsxDEV","Fragment","_Fragment","MealAnalysis","_s","warning","setWarning","progress","setProgress","loading","setLoading","food","setFood","nutrients","kcals","proteins","fats","carbohydrates","userInput","setUserInput","showDetails","setShowDetails","mealNameRegex","cardBackgroundColor","background","handleSubmit","e","preventDefault","test","req","q","source","target","post","then","response","split","data","translatedText","forEach","ingredient","stringify","get","res","push","totalNutrientsKCal","PROCNT_KCAL","CHOCDF_KCAL","FAT_KCAL","ENERC_KCAL","length","children","className","style","backgroundSize","minHeight","padding","marginTop","marginBottom","borderRadius","boxShadow","borderLeft","borderTop","color","position","top","left","transform","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","Header","as","Body","margin","variant","src","id","height","width","marginRight","alt","expand","Control","type","placeholder","value","onChange","onClick","verticalAlign","marginLeft","icon","map","item","index","_c","$RefreshReg$"],"sources":["/Users/angelamariaselvaggi/Desktop/unimeri/Tesi/Applicazione/APP MERI/src/Components/Meals/MealAnalysis.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport {Alert, Button, Card, Col, Form, InputGroup, Navbar, Row} from \"react-bootstrap\";\nimport Container from \"react-bootstrap/Container\";\nimport ShowMealsImg from \"../../img/showMealsImg.svg\";\nimport {SyncLoader} from \"react-spinners\";\nimport MealAnalysisPreview from \"./MealAnalysisPreview\";\nimport PieChart from \"react-pie-graph-chart\";\nimport {faEyeSlash, faMagnifyingGlass} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {urlEncoded} from \"../../context/DietContext\";\nimport {scrollToTop} from \"../helpers/scroll\";\nimport {sumArrayObject} from \"sum-any\";\nimport {clearArray} from \"../../context/MealContext\";\n\n/*\n Funzione che si occupa di eseguire l'analisi di un pasto dato in input dall'utente\n L'analisi viene effettuata sfruttando le API offerte da EDAMAM (https://developer.edamam.com/edamam-nutrition-api)\n */\nexport default function MealAnalysis() {\n    const [warning, setWarning] = useState(\"\");\n    const [progress, setProgress] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [food, setFood] = useState(\"\");\n    const [nutrients] = useState([]);\n    const [kcals] = useState([]);\n    const [proteins] = useState([]);\n    const [fats] = useState([]);\n    const [carbohydrates] = useState([]);\n    const [userInput, setUserInput] = useState([]);\n    const [showDetails, setShowDetails] = useState(false);\n    const mealNameRegex = /^([a-z\\s]+\\d+[a-z\\s]+,)*([a-z\\s]+\\d+[a-z\\s]+){1}$/;\n\n\n    const cardBackgroundColor = {\n        background: \"#FFEAD3\"\n    };\n\n    //Ad ogni caricamento la pagina effettua uno scroll fino al suo inizio\n    useEffect(() => {\n        scrollToTop();\n    }, []);\n\n    /*\n     Funzione per l'analisi del pasto in input\n     L'analisi viene effettuata sfruttando le API offerte da EDAMAM (https://developer.edamam.com/edamam-nutrition-api)\n     La traduzione dell'input dell'utente, da italiano ad inglese, viene effettuata sfruttando le API offerte da LIBRETRANSLATE (https://libretranslate.de/)\n     */\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setWarning(\"\");\n\n        if (!mealNameRegex.test(food)) {\n            setProgress(false);\n            setLoading(false);\n            scrollToTop();\n            return setWarning(\"Per poter eseguire l'analisi il titolo del pasto deve contenere il nome dell'ingrediente e la sua quantità, in caso di più ingredienti questi devono essere separati da una virgola: es. pane 50 gr, petto di pollo 80 gr\");\n        }\n        if (food !== \"\") {\n            //Inizializzo gli array per una nuova ricerca\n            clearArray(nutrients);\n            clearArray(kcals);\n            clearArray(proteins);\n            clearArray(carbohydrates);\n            clearArray(fats);\n\n            setProgress(true);\n            setLoading(true);\n            const req = {\n                q: food,\n                source: \"it\",\n                target: \"en\"\n            };\n            axios.post(`https://translate.argosopentech.com/translate`, req).then((response) => {\n                setUserInput(food.split(\",\"));\n                response.data.translatedText.split(\",\").forEach((ingredient) => {\n                    let stringify = urlEncoded(ingredient);\n                    axios.get(`https://api.edamam.com/api/nutrition-data?app_id=b92c2025&app_key=e1942e617a37552b845d1db4d36d9522&ingr=${stringify}`)\n                         .then((res) => {\n                             nutrients.push(res.data.totalNutrientsKCal);\n                             proteins.push(res.data.totalNutrientsKCal.PROCNT_KCAL);\n                             carbohydrates.push(res.data.totalNutrientsKCal.CHOCDF_KCAL);\n                             fats.push(res.data.totalNutrientsKCal.FAT_KCAL);\n                             kcals.push(res.data.totalNutrientsKCal.ENERC_KCAL);\n\n                             if (nutrients.length === food.split(\",\").length) {\n                                 setProgress(false);\n                                 setLoading(false);\n                             }\n                         });\n                });\n            });\n        } else {\n            setWarning(\"Per poter effettuare la ricerca inserisci prima un pasto nel formato richiesto: \\nes. pane 50 gr, petto di pollo 80 gr\");\n        }\n    };\n\n    return (\n        <>\n            <Container className={\"modal-fullscreen\"}\n                       style={{\n                           background: \"linear-gradient(123deg, rgba(247,209,98,1) 30%, rgba(251,149,96,1) 50%, rgba(254,88,94,1) 70%)\",\n                           backgroundSize: \"cover\",\n                           minHeight: \"inherit\",\n                           padding: 0\n                       }}>\n                <Container className={\"modal-fullscreen text-center\"}>\n                    <Container className={\"d-flex flex-column mx-auto my-auto\"}\n                               style={{minHeight: 450, marginTop: 20}}>\n                        <Card className={\"col-12 col-md-10 mx-auto\"}\n                              style={{\n                                  marginTop: 20,\n                                  marginBottom: 20,\n                                  borderRadius: 16,\n                                  boxShadow: \"10px 10px 10px rgba(30,30,30,0.5)\",\n                                  borderLeft: \"solid 1px rgba(255,255,255,0.8)\",\n                                  borderTop: \"solid 1px rgba(255,255,255,0.8)\"\n                              }}>\n                            <SyncLoader color=\"#eb6164\"\n                                        loading={progress}\n                                        style={{\n                                            position: \"absolute\",\n                                            top: \"50%\",\n                                            left: \"50%\",\n                                            transform: \"translate(-50%, -50%)\",\n                                            zIndex: 1\n                                        }}/>\n                            <Card className={\"col-11 col-lg-11 mx-auto\"}\n                                  style={{marginTop: 20, marginBottom: 20}}>\n                                <Card.Header style={cardBackgroundColor}\n                                             className={\"text-start\"}\n                                             as=\"h5\">Analisi\n                                                     pasto</Card.Header>\n                                <Card.Body>\n                                    {warning && <Alert style={{margin: 20}}\n                                                       variant=\"warning\">{warning}</Alert>}\n                                    <>\n                                        <div>\n                                            <Container\n                                                className={\"d-flex justify-content-center my-auto align-items-center col-12\"}\n                                                style={{padding: 0}}>\n                                                <img src={ShowMealsImg}\n                                                     id={\"ShowMealsImg\"}\n                                                     style={{height: 200, width: 200, marginRight: 10}}\n                                                     alt={\"Pasti\"}/>\n                                            </Container>\n                                            <div>\n                                                Inserisci un pasto per ottenere subito informazioni riguardo ai\n                                                macronutrienti e ai valori calorici degli ingredienti in esso contenuti:\n                                            </div>\n                                            <Navbar expand=\"lg\">\n                                                <Container\n                                                    className={\"d-flex flex-wrap justify-content-evenly col-12 col-sm-10 gap-2\"}>\n                                                    <Container style={{marginBottom: 15, padding: 5}}\n                                                               className={\"col-12 col-sm-8 my-auto\"}>\n                                                        <InputGroup style={{marginTop: 10}}\n                                                                    className={\"my-auto\"}>\n                                                            <Form.Control\n                                                                type=\"search\"\n                                                                placeholder={\"es. pane 50 gr, petto di pollo 80 gr\"}\n                                                                aria-label=\"Search\"\n                                                                value={food}\n                                                                onChange={(e) => setFood(e.target.value)}\n                                                            />\n                                                        </InputGroup>\n                                                    </Container>\n                                                    <Container className={\"col-12 col-sm-2 my-auto mx-auto\"}>\n                                                        <Button variant=\"outline-danger\"\n                                                                className={\"flex-wrap\"}\n                                                                onClick={handleSubmit}>Analizza</Button>\n                                                    </Container>\n                                                </Container>\n                                            </Navbar>\n                                            {!loading ? (<></>) : (\n                                                <small style={{color: \"grey\", verticalAlign: \"bottom\"}}>Inserisci gli\n                                                                                                        ingredienti separandoli con la virgola</small>\n                                            )}\n                                            {progress ? (<></>) : (\n                                                //Ha finito di caricare i risultati della ricerca\n                                                <>\n                                                    {(!loading && nutrients.length > 0) && (\n                                                        <>\n                                                            <Card className={\"col-10 mx-auto\"}\n                                                                  style={{padding: 0, marginTop: 15}}>\n                                                                <Container style={{padding: 0}}>\n                                                                    <Card.Header className={\"text-center\"}\n                                                                                 style={cardBackgroundColor}><strong>Valori\n                                                                                                                     nutrizionali totali</strong></Card.Header>\n                                                                    <Card.Body>\n                                                                        <Container className={\"col-12 my-auto\"}\n                                                                                   style={{marginLeft: 17}}>\n                                                                            <Row\n                                                                                className={\"d-flex flew-row col-12 justify-content-center\"}\n                                                                                style={{marginRight: 0}}>\n                                                                                <Col>\n                                                                                    <div className=\"text-start\">\n                                                                                        <strong>Energia:</strong>\n                                                                                    </div>\n                                                                                    <div className=\"text-start\">\n                                                                                        <p>{sumArrayObject(kcals, \"quantity\")} Kcal</p>\n                                                                                    </div>\n                                                                                </Col>\n                                                                                <Col>\n                                                                                    <div className=\"text-start\">\n                                                                                        <strong>Carboidrati:</strong>\n                                                                                    </div>\n                                                                                    <div className=\"text-start\">\n                                                                                        <p>{sumArrayObject(carbohydrates, \"quantity\")} gr.</p>\n                                                                                    </div>\n                                                                                </Col>\n                                                                                <Col>\n                                                                                    <div className=\"text-start\">\n                                                                                        <strong>Grassi:</strong>\n                                                                                    </div>\n                                                                                    <div className=\"text-start\">\n                                                                                        <p>{sumArrayObject(fats, \"quantity\")} gr.</p>\n                                                                                    </div>\n                                                                                </Col>\n                                                                                <Col>\n                                                                                    <div className=\"text-start\">\n                                                                                        <strong>Proteine:</strong>\n                                                                                    </div>\n                                                                                    <div className=\"text-start\">\n                                                                                        <p>{sumArrayObject(proteins, \"quantity\")}gr.</p>\n                                                                                    </div>\n                                                                                </Col>\n                                                                            </Row>\n                                                                        </Container>\n                                                                    </Card.Body>\n                                                                </Container>\n                                                            </Card>\n                                                            <PieChart data={[\n                                                                {\n                                                                    type: \"Carboidrati\",\n                                                                    value: sumArrayObject(carbohydrates, \"quantity\"),\n                                                                    color: \"#fbd464\"\n                                                                },\n                                                                {\n                                                                    type: \"Grassi\",\n                                                                    value: sumArrayObject(fats, \"quantity\"),\n                                                                    color: \"#fb7270\"\n                                                                },\n                                                                {\n                                                                    type: \"Proteine\",\n                                                                    value: sumArrayObject(proteins, \"quantity\"),\n                                                                    color: \"#3897f1\"\n                                                                }\n                                                            ]}/>\n                                                            <Container>\n                                                                {showDetails\n                                                                    ? (<Button variant=\"outline-secondary\"\n                                                                               className={\"flex-wrap\"}\n                                                                               onClick={(e) => setShowDetails(false)}><FontAwesomeIcon\n                                                                        icon={faEyeSlash}\n                                                                        style={{marginRight: 5}}/>Nascondi\n                                                                                                  dettagli</Button>)\n                                                                    : (<Button variant=\"outline-secondary\"\n                                                                               className={\"flex-wrap\"}\n                                                                               onClick={(e) => setShowDetails(true)}><FontAwesomeIcon\n                                                                        icon={faMagnifyingGlass}\n                                                                        style={{marginRight: 5}}/>Mostra\n                                                                                                  dettagli</Button>)\n                                                                }\n                                                                <Container style={{marginTop: 20}}>\n                                                                    {showDetails && nutrients.map((item, index) => (\n                                                                        <MealAnalysisPreview key={index}\n                                                                                             index={index}\n                                                                                             userInput={userInput}\n                                                                                             item={item}/>\n                                                                    ))}\n                                                                </Container>\n                                                            </Container>\n                                                        </>\n                                                    )}\n                                                    {(nutrients.length === 0 && !warning && loading === false) ? (\n                                                        <Alert className={\"col-10 mx-auto\"}\n                                                               variant={\"warning\"}>La ricerca non ha prodotto risultati</Alert>) : (<></>)}\n                                                </>\n                                            )}\n                                        </div>\n                                    </>\n                                </Card.Body>\n                            </Card>\n                        </Card>\n                    </Container>\n                </Container>\n            </Container>\n        </>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}